DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-01-25 22:28:45 +0100

PG::Error (fe_sendauth: no password supplied
):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.9ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.6ms)


Started GET "/index" for 127.0.0.1 at 2016-01-25 22:28:58 +0100

PG::Error (fe_sendauth: no password supplied
):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.6ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (13.4ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)


Started GET "/index" for 127.0.0.1 at 2016-01-25 22:34:54 +0100

PG::Error (fe_sendauth: no password supplied
):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.5ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.2ms)


Started GET "/" for 127.0.0.1 at 2016-01-25 22:34:58 +0100

PG::Error (fe_sendauth: no password supplied
):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (6.0ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-02-05 19:13:38 +0100

PG::Error (fe_sendauth: no password supplied
):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.8ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.9ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-02-05 19:55:46 +0100

PG::Error (fe_sendauth: no password supplied
):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (6.2ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-02-05 20:11:16 +0100

PG::Error (fe_sendauth: no password supplied
):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (6.3ms)


Started GET "/" for 127.0.0.1 at 2016-02-05 20:14:48 +0100

PG::Error (fe_sendauth: no password supplied
):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.7ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (6.4ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-02-05 20:15:07 +0100

PG::Error (fe_sendauth: no password supplied
):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (6.6ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-02-05 20:31:35 +0100

PG::Error (could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?
):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.7ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.4ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-02-06 17:32:48 +0100

PG::Error (could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?
):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.6ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.4ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-02-06 17:34:57 +0100

PG::Error (could not connect to server: Connection refused
	Is the server running on host "localhost" (127.0.0.1) and accepting
	TCP/IP connections on port 5432?
):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.9ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.8ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-02-06 17:38:25 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.4ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
SQLite3::SQLException: no such table: books: SELECT  "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
Completed 500 Internal Server Error in 67ms

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such table: books: SELECT  "books".* FROM "books" ORDER BY RANDOM() LIMIT 30):
  app/controllers/pages_controller.rb:3:in `home'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.9ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.9ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (233.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35mSQL (0.4ms)[0m  PRAGMA index_list("schema_migrations")
  [1m[36mSQL (127.4ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
Migrating to CreateUsers (20101101212939)
  [1m[36mSQL (1.0ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20101101212939')
Migrating to CreateBooks (20101101213832)
  [1m[36mSQL (0.4ms)[0m  [1mCREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20101101213832')
Migrating to AddExtraUserFields (20101217153147)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "users" ADD "login" varchar(255) DEFAULT '' NOT NULL[0m
  [1m[35mSQL (0.2ms)[0m  ALTER TABLE "users" ADD "email" varchar(255) DEFAULT '' NOT NULL
  [1m[36mSQL (0.1ms)[0m  [1mALTER TABLE "users" ADD "crypted_password" varchar(255) DEFAULT '' NOT NULL[0m
  [1m[35mSQL (0.1ms)[0m  ALTER TABLE "users" ADD "password_salt" varchar(255) DEFAULT '' NOT NULL
  [1m[36mSQL (0.1ms)[0m  [1mALTER TABLE "users" ADD "persistence_token" varchar(255) DEFAULT '' NOT NULL[0m
  [1m[35mSQL (0.2ms)[0m  ALTER TABLE "users" ADD "single_access_token" varchar(255) DEFAULT '' NOT NULL
  [1m[36mSQL (0.2ms)[0m  [1mALTER TABLE "users" ADD "perishable_token" varchar(255) DEFAULT '' NOT NULL[0m
  [1m[35mSQL (0.3ms)[0m  ALTER TABLE "users" ADD "login_count" integer DEFAULT 0 NOT NULL
  [1m[36mSQL (0.2ms)[0m  [1mALTER TABLE "users" ADD "failed_login_count" integer DEFAULT 0 NOT NULL[0m
  [1m[35mSQL (0.2ms)[0m  ALTER TABLE "users" ADD "last_request_at" datetime
  [1m[36mSQL (0.2ms)[0m  [1mALTER TABLE "users" ADD "current_login_at" datetime[0m
  [1m[35mSQL (0.1ms)[0m  ALTER TABLE "users" ADD "last_login_at" datetime
  [1m[36mSQL (0.2ms)[0m  [1mALTER TABLE "users" ADD "current_login_ip" varchar(255)[0m
  [1m[35mSQL (0.2ms)[0m  ALTER TABLE "users" ADD "last_login_ip" varchar(255)
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101217153147')[0m
Migrating to CreateTitles (20101218114935)
  [1m[35mSQL (0.6ms)[0m  CREATE TABLE "titles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "isbn13" varchar(13) DEFAULT '', "title" varchar(255) DEFAULT '', "subtitle" varchar(255), "description" text, "image_url" varchar(255), "subject_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101218114935')[0m
Migrating to CreateSubjects (20101218115937)
  [1m[35mSQL (0.5ms)[0m  CREATE TABLE "subjects" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT '', "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101218115937')[0m
Migrating to CreateAuthors (20101218120054)
  [1m[35mSQL (0.9ms)[0m  CREATE TABLE "authors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT '', "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.4ms)[0m  [1mCREATE TABLE "authors_titles" ("author_id" integer, "title_id" integer) [0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("authors_titles")
  [1m[36mSQL (0.3ms)[0m  [1mCREATE INDEX "index_authors_titles_on_author_id" ON "authors_titles" ("author_id")[0m
  [1m[35mSQL (0.2ms)[0m  PRAGMA index_list("authors_titles")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_info('index_authors_titles_on_author_id')[0m
  [1m[35mSQL (0.2ms)[0m  CREATE INDEX "index_authors_titles_on_title_id" ON "authors_titles" ("title_id")
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101218120054')[0m
Migrating to AddTitleAndUserIdsToBooks (20101218122711)
  [1m[35mSQL (1.5ms)[0m  DROP TABLE "books"
  [1m[36mSQL (0.8ms)[0m  [1mCREATE TABLE "books" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20101218122711')
Migrating to CreateWatchings (20110103164416)
  [1m[36mSQL (1.4ms)[0m  [1mCREATE TABLE "watchings" ("member_id" integer, "book_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110103164416')
Migrating to AddUsersToWatchings (20110103164855)
  [1m[36mSQL (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "altered_watchings" ("user_id" integer, "book_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("watchings")
  [1m[36mSQL (0.4ms)[0m  [1mDROP TABLE "watchings"[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "watchings" ("user_id" integer, "book_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_watchings")[0m
  [1m[35mSQL (0.1ms)[0m  DROP TABLE "altered_watchings"
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20110103164855')[0m
Migrating to AddIdToWatchings (20110108210356)
  [1m[35mSQL (0.4ms)[0m  DROP TABLE "watchings"
  [1m[36mSQL (0.6ms)[0m  [1mCREATE TABLE "watchings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "book_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110108210356')
Migrating to CreateLoans (20110109153037)
  [1m[36mSQL (1.7ms)[0m  [1mCREATE TABLE "loans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "book_id" integer, "lender_id" integer, "borrower_id" integer, "due" date, "returned" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.6ms)[0m  ALTER TABLE "books" ADD "status" integer DEFAULT 0
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20110109153037')[0m
Migrating to AddAddressFieldsToUser (20110111162058)
  [1m[35mSQL (0.5ms)[0m  ALTER TABLE "users" ADD "first_name" varchar(255)
  [1m[36mSQL (0.6ms)[0m  [1mALTER TABLE "users" ADD "last_name" varchar(255)[0m
  [1m[35mSQL (0.6ms)[0m  ALTER TABLE "users" ADD "address1" varchar(255)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "users" ADD "address2" varchar(255)[0m
  [1m[35mSQL (0.7ms)[0m  ALTER TABLE "users" ADD "city" varchar(255)
  [1m[36mSQL (0.8ms)[0m  [1mALTER TABLE "users" ADD "county" varchar(255)[0m
  [1m[35mSQL (0.5ms)[0m  ALTER TABLE "users" ADD "postcode" varchar(255)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "users" ADD "phone" varchar(255)[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110111162058')
Migrating to CreateSearches (20110228221120)
  [1m[36mSQL (1.0ms)[0m  [1mCREATE TABLE "searches" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "query" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110228221120')
Migrating to AddResultsCountToSearches (20110228221908)
  [1m[36mSQL (0.6ms)[0m  [1mALTER TABLE "searches" ADD "results" integer[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110228221908')
Migrating to RemoveDueFromLoans (20110323151412)
  [1m[36mSQL (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "altered_loans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "book_id" integer, "lender_id" integer, "borrower_id" integer, "due" date, "returned" datetime, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("loans")
  [1m[36mSQL (0.4ms)[0m  [1mDROP TABLE "loans"[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TABLE "loans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "book_id" integer, "lender_id" integer, "borrower_id" integer, "returned" datetime, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("altered_loans")[0m
  [1m[35mSQL (0.1ms)[0m  DROP TABLE "altered_loans"
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20110323151412')[0m
Migrating to AddStatusToUsers (20110817142642)
  [1m[35mSQL (2.0ms)[0m  ALTER TABLE "users" ADD "status" varchar(255) DEFAULT 'user'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20110817142642')[0m
Migrating to CreateBans (20110825153442)
  [1m[35mSQL (1.5ms)[0m  CREATE TABLE "bans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "unbanned_at" datetime, "user_id" integer, "admin_id" integer, "reason" text, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20110825153442')[0m
Migrating to AddBannedToUsers (20110825170855)
  [1m[35mSQL (1.5ms)[0m  ALTER TABLE "users" ADD "banned" boolean DEFAULT 'f'
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20110825170855')[0m
Migrating to AddUnbannedByToBans (20110830190734)
  [1m[35mSQL (0.8ms)[0m  ALTER TABLE "bans" ADD "unbanned_by" integer
  [1m[36mSQL (0.5ms)[0m  [1mCREATE TEMPORARY TABLE "altered_bans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "unbanned_at" datetime, "user_id" integer, "banned_by" integer, "reason" text, "created_at" datetime, "updated_at" datetime, "unbanned_by" integer) [0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("bans")
  [1m[36mSQL (0.6ms)[0m  [1mDROP TABLE "bans"[0m
  [1m[35mSQL (0.3ms)[0m  CREATE TABLE "bans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "unbanned_at" datetime, "user_id" integer, "banned_by" integer, "reason" text, "created_at" datetime, "updated_at" datetime, "unbanned_by" integer) 
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("altered_bans")[0m
  [1m[35mSQL (0.3ms)[0m  DROP TABLE "altered_bans"
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20110830190734')[0m
Migrating to RenameBannedByAndUnBannedByInBans (20110830202726)
  [1m[35mSQL (0.2ms)[0m  CREATE TEMPORARY TABLE "altered_bans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "unbanned_at" datetime, "user_id" integer, "banner" integer, "reason" text, "created_at" datetime, "updated_at" datetime, "unbanned_by" integer) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("bans")[0m
  [1m[35mSQL (0.4ms)[0m  DROP TABLE "bans"
  [1m[36mSQL (0.2ms)[0m  [1mCREATE TABLE "bans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "unbanned_at" datetime, "user_id" integer, "banner" integer, "reason" text, "created_at" datetime, "updated_at" datetime, "unbanned_by" integer) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("altered_bans")
  [1m[36mSQL (0.1ms)[0m  [1mDROP TABLE "altered_bans"[0m
  [1m[35mSQL (0.3ms)[0m  CREATE TEMPORARY TABLE "altered_bans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "unbanned_at" datetime, "user_id" integer, "banner" integer, "reason" text, "created_at" datetime, "updated_at" datetime, "unbanner" integer) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("bans")[0m
  [1m[35mSQL (0.2ms)[0m  DROP TABLE "bans"
  [1m[36mSQL (0.2ms)[0m  [1mCREATE TABLE "bans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "unbanned_at" datetime, "user_id" integer, "banner" integer, "reason" text, "created_at" datetime, "updated_at" datetime, "unbanner" integer) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("altered_bans")
  [1m[36mSQL (0.1ms)[0m  [1mDROP TABLE "altered_bans"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110830202726')
Migrating to CreateSubjectsTitlesJoinTable (20111024165639)
  [1m[36mSQL (0.9ms)[0m  [1mCREATE TABLE "subjects_titles" ("subject_id" integer, "title_id" integer) [0m
  [1m[35mSQL (0.3ms)[0m  CREATE TEMPORARY TABLE "altered_titles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "isbn13" varchar(13) DEFAULT '', "title" varchar(255) DEFAULT '', "subtitle" varchar(255), "description" text, "image_url" varchar(255), "subject_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("titles")[0m
  [1m[35mSQL (0.5ms)[0m  DROP TABLE "titles"
  [1m[36mSQL (0.4ms)[0m  [1mCREATE TABLE "titles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "isbn13" varchar(13) DEFAULT '', "title" varchar(255) DEFAULT '', "subtitle" varchar(255), "description" text, "image_url" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("altered_titles")
  [1m[36mSQL (0.1ms)[0m  [1mDROP TABLE "altered_titles"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20111024165639')
  [1m[36mSQL (0.7ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.4ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("authors")[0m
  [1m[35mSQL (0.2ms)[0m  PRAGMA index_list("authors_titles")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_info('index_authors_titles_on_title_id')[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_info('index_authors_titles_on_author_id')
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("bans")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("books")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("loans")[0m
  [1m[35mSQL (0.2ms)[0m  PRAGMA index_list("searches")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("subjects")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("subjects_titles")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("titles")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("watchings")[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-02-06 17:38:50 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.5ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Completed 500 Internal Server Error in 43ms

ActionView::MissingTemplate (Missing template pages/home with {:handlers=>[:erb, :rjs, :builder, :rhtml, :rxml, :haml], :formats=>[:html], :locale=>[:en, :en]} in view paths "/home/carlos/APP/casterbridgebookshare/app/views", "/home/carlos/APP/casterbridgebookshare/vendor/plugins/isbn_validation/app/views"):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.8ms)


Started GET "/home" for 127.0.0.1 at 2016-02-06 17:39:05 +0100

ActionController::RoutingError (No route matches "/home"):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.7ms)


Started GET "/h" for 127.0.0.1 at 2016-02-06 17:39:10 +0100

ActionController::RoutingError (No route matches "/h"):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.0ms)


Started GET "/" for 127.0.0.1 at 2016-02-06 17:39:13 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.8ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
Completed 500 Internal Server Error in 18ms

ActionView::MissingTemplate (Missing template pages/home with {:handlers=>[:erb, :rjs, :builder, :rhtml, :rxml, :haml], :formats=>[:html], :locale=>[:en, :en]} in view paths "/home/carlos/APP/casterbridgebookshare/app/views", "/home/carlos/APP/casterbridgebookshare/vendor/plugins/isbn_validation/app/views"):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.7ms)


Started GET "/login" for 127.0.0.1 at 2016-02-06 17:39:40 +0100
  Processing by UserSessionsController#new as HTML
Completed 500 Internal Server Error in 160ms

ActionView::MissingTemplate (Missing template user_sessions/new with {:handlers=>[:erb, :rjs, :builder, :rhtml, :rxml, :haml], :formats=>[:html], :locale=>[:en, :en]} in view paths "/home/carlos/APP/casterbridgebookshare/app/views", "/home/carlos/APP/casterbridgebookshare/vendor/plugins/isbn_validation/app/views"):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (1.1ms)


Started GET "/" for 127.0.0.1 at 2016-02-06 18:01:11 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.5ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Completed 500 Internal Server Error in 13ms

ActionView::MissingTemplate (Missing template pages/home with {:handlers=>[:erb, :rjs, :builder, :rhtml, :rxml, :haml], :formats=>[:html], :locale=>[:en, :en]} in view paths "/home/carlos/APP/casterbridgebookshare/app/views", "/home/carlos/APP/casterbridgebookshare/vendor/plugins/isbn_validation/app/views"):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.9ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-02-06 18:06:44 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.5ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Completed 500 Internal Server Error in 42ms

ActionView::MissingTemplate (Missing template pages/home with {:handlers=>[:erb, :rjs, :builder, :rhtml, :rxml, :haml], :formats=>[:html], :locale=>[:en, :en]} in view paths "/home/carlos/APP/casterbridgebookshare/app/views", "/home/carlos/APP/casterbridgebookshare/vendor/plugins/isbn_validation/app/views"):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.8ms)


Started GET "/" for 127.0.0.1 at 2016-02-06 18:06:49 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.6ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
Completed 500 Internal Server Error in 13ms

ActionView::MissingTemplate (Missing template pages/home with {:handlers=>[:erb, :rjs, :builder, :rhtml, :rxml, :haml], :formats=>[:html], :locale=>[:en, :en]} in view paths "/home/carlos/APP/casterbridgebookshare/app/views", "/home/carlos/APP/casterbridgebookshare/vendor/plugins/isbn_validation/app/views"):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.7ms)


Started GET "/" for 127.0.0.1 at 2016-02-06 18:08:33 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.6ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Completed 500 Internal Server Error in 13ms

ActionView::MissingTemplate (Missing template pages/home with {:handlers=>[:erb, :rjs, :builder, :rhtml, :rxml, :haml], :formats=>[:html], :locale=>[:en, :en]} in view paths "/home/carlos/APP/casterbridgebookshare/app/views", "/home/carlos/APP/casterbridgebookshare/vendor/plugins/isbn_validation/app/views"):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.8ms)


Started GET "/" for 127.0.0.1 at 2016-02-06 18:12:02 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.5ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
Rendered pages/home.html.haml within layouts/application (255.6ms)
Completed 500 Internal Server Error in 271ms

ActionView::Template::Error (No route matches {:controller=>"themes_for_rails/assets", :action=>"images", :theme=>nil, :asset=>"favicon.ico"}):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     %link{ :rel => 'shortcut icon', :href => theme_image_path('favicon.ico'), :type => 'image/x-icon' }
    8:     %link{ :rel => 'apple-touch-icon', :href => theme_image_path('apple-touch-icon.png')  }
    9:     = theme_stylesheet_link_tag :reset
    10:     = theme_stylesheet_link_tag :style
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml___1937500451268094917_69813118580820__3909334427865751096'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.0ms)


Started GET "/" for 127.0.0.1 at 2016-02-06 18:16:47 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.6ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Rendered pages/home.html.haml within layouts/application (49.8ms)
Completed 500 Internal Server Error in 63ms

ActionView::Template::Error (No route matches {:controller=>"themes_for_rails/assets", :action=>"images", :theme=>nil, :asset=>"favicon.ico"}):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     %link{ :rel => 'shortcut icon', :href => theme_image_path('favicon.ico'), :type => 'image/x-icon' }
    8:     %link{ :rel => 'apple-touch-icon', :href => theme_image_path('apple-touch-icon.png')  }
    9:     = theme_stylesheet_link_tag :reset
    10:     = theme_stylesheet_link_tag :style
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml___1937500451268094917_69813124930740__3909334427865751096'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.6ms)


Started GET "/" for 127.0.0.1 at 2016-02-06 18:18:41 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.5ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
Rendered pages/home.html.haml within layouts/application (44.1ms)
Completed 500 Internal Server Error in 56ms

ActionView::Template::Error (No route matches {:controller=>"themes_for_rails/assets", :action=>"images", :theme=>nil, :asset=>"favicon.ico"}):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     %link{ :rel => 'shortcut icon', :href => theme_image_path('favicon.ico'), :type => 'image/x-icon' }
    8:     %link{ :rel => 'apple-touch-icon', :href => theme_image_path('apple-touch-icon.png')  }
    9:     = theme_stylesheet_link_tag :reset
    10:     = theme_stylesheet_link_tag :style
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml___1937500451268094917_25994600__3909334427865751096'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.6ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (7.7ms)


Started GET "/" for 127.0.0.1 at 2016-02-06 18:18:42 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.5ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Rendered pages/home.html.haml within layouts/application (46.7ms)
Completed 500 Internal Server Error in 59ms

ActionView::Template::Error (No route matches {:controller=>"themes_for_rails/assets", :action=>"images", :theme=>nil, :asset=>"favicon.ico"}):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     %link{ :rel => 'shortcut icon', :href => theme_image_path('favicon.ico'), :type => 'image/x-icon' }
    8:     %link{ :rel => 'apple-touch-icon', :href => theme_image_path('apple-touch-icon.png')  }
    9:     = theme_stylesheet_link_tag :reset
    10:     = theme_stylesheet_link_tag :style
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml___1937500451268094917_69813126912780__3909334427865751096'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.6ms)


Started GET "/" for 127.0.0.1 at 2016-02-06 18:18:48 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.5ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
Rendered pages/home.html.haml within layouts/application (45.9ms)
Completed 500 Internal Server Error in 57ms

ActionView::Template::Error (No route matches {:controller=>"themes_for_rails/assets", :action=>"images", :theme=>nil, :asset=>"favicon.ico"}):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     %link{ :rel => 'shortcut icon', :href => theme_image_path('favicon.ico'), :type => 'image/x-icon' }
    8:     %link{ :rel => 'apple-touch-icon', :href => theme_image_path('apple-touch-icon.png')  }
    9:     = theme_stylesheet_link_tag :reset
    10:     = theme_stylesheet_link_tag :style
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml___1937500451268094917_69813118791440__3909334427865751096'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.0ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.2ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-02-06 18:19:02 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.6ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Rendered pages/home.html.haml within layouts/application (72.9ms)
Completed 500 Internal Server Error in 121ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x00000000aceb30>:0x00000000abe528>):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     %link{ :rel => 'shortcut icon', :href => theme_image_path('favicon.ico'), :type => 'image/x-icon' }
    8:     %link{ :rel => 'apple-touch-icon', :href => theme_image_path('apple-touch-icon.png')  }
    9:     = theme_stylesheet_link_tag :reset
    10:     = theme_stylesheet_link_tag :style
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml___3867848326235478416_5561260_1748489893790187472'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.9ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.2ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-02-06 18:26:35 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.5ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Rendered pages/home.html.haml within layouts/application (68.5ms)
Completed 500 Internal Server Error in 116ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x00000002ad7030>:0x00000002ad5370>):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     %link{ :rel => 'shortcut icon', :href => theme_image_path('favicon.ico'), :type => 'image/x-icon' }
    8:     %link{ :rel => 'apple-touch-icon', :href => theme_image_path('apple-touch-icon.png')  }
    9:     = theme_stylesheet_link_tag :reset
    10:     = theme_stylesheet_link_tag :style
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml___348992239195684556_22428680_445058930892589834'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.6ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.1ms)


Started GET "/" for 127.0.0.1 at 2016-02-06 18:26:36 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.5ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
Rendered pages/home.html.haml within layouts/application (56.4ms)
Completed 500 Internal Server Error in 74ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x007f6f5d265da8>:0x007f6f5d264e30>):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     %link{ :rel => 'shortcut icon', :href => theme_image_path('favicon.ico'), :type => 'image/x-icon' }
    8:     %link{ :rel => 'apple-touch-icon', :href => theme_image_path('apple-touch-icon.png')  }
    9:     = theme_stylesheet_link_tag :reset
    10:     = theme_stylesheet_link_tag :style
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml___348992239195684556_70058140464360_445058930892589834'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.8ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.8ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:09:49 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (40.3ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Rendered pages/home.html.haml within layouts/application (187.4ms)
Completed 500 Internal Server Error in 328ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x00000003e2efe8>:0x00000003e2d350>):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     %link{ :rel => 'shortcut icon', :href => theme_image_path('favicon.ico'), :type => 'image/x-icon' }
    8:     %link{ :rel => 'apple-touch-icon', :href => theme_image_path('apple-touch-icon.png')  }
    9:     = theme_stylesheet_link_tag :reset
    10:     = theme_stylesheet_link_tag :style
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml__4097262159616280488_32548180_3984640578683202432'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.7ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.0ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:30:03 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.6ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Rendered pages/home.html.haml within layouts/application (75.8ms)
Completed 500 Internal Server Error in 160ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x00000004d452c0>:0x00000004d43790>):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     %link{ :rel => 'shortcut icon', :href => theme_image_path('favicon.ico'), :type => 'image/x-icon' }
    8:     %link{ :rel => 'apple-touch-icon', :href => theme_image_path('apple-touch-icon.png')  }
    9:     = theme_stylesheet_link_tag :reset
    10:     = theme_stylesheet_link_tag :style
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml__74799203731517699_40496580__2697405616520104002'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.9ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.0ms)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:30:07 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.5ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
Rendered pages/home.html.haml within layouts/application (53.8ms)
Completed 500 Internal Server Error in 74ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x007f16450dfce8>:0x007f16450ded70>):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     %link{ :rel => 'shortcut icon', :href => theme_image_path('favicon.ico'), :type => 'image/x-icon' }
    8:     %link{ :rel => 'apple-touch-icon', :href => theme_image_path('apple-touch-icon.png')  }
    9:     = theme_stylesheet_link_tag :reset
    10:     = theme_stylesheet_link_tag :style
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml__74799203731517699_69866812269740__2697405616520104002'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.7ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.4ms)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:30:09 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.7ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Rendered pages/home.html.haml within layouts/application (77.4ms)
Completed 500 Internal Server Error in 101ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x007f164505ac78>:0x007f1645059c60>):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     %link{ :rel => 'shortcut icon', :href => theme_image_path('favicon.ico'), :type => 'image/x-icon' }
    8:     %link{ :rel => 'apple-touch-icon', :href => theme_image_path('apple-touch-icon.png')  }
    9:     = theme_stylesheet_link_tag :reset
    10:     = theme_stylesheet_link_tag :style
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml__74799203731517699_69866811988740__2697405616520104002'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.7ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.8ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:36:08 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.6ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Rendered pages/home.html.haml within layouts/application (96.2ms)
Completed 500 Internal Server Error in 145ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x00000004d56e58>:0x00000004d55350>):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     %link{ :rel => 'shortcut icon', :href => theme_image_path('favicon.ico'), :type => 'image/x-icon' }
    8:     %link{ :rel => 'apple-touch-icon', :href => theme_image_path('apple-touch-icon.png')  }
    9:     = theme_stylesheet_link_tag :reset
    10:     = theme_stylesheet_link_tag :style
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml___839288014988275360_40534020_1331638545427885475'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.5ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.8ms)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:36:10 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.6ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
Rendered pages/home.html.haml within layouts/application (49.1ms)
Completed 500 Internal Server Error in 69ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x007fde709a0fc8>:0x007fde709a0050>):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     %link{ :rel => 'shortcut icon', :href => theme_image_path('favicon.ico'), :type => 'image/x-icon' }
    8:     %link{ :rel => 'apple-touch-icon', :href => theme_image_path('apple-touch-icon.png')  }
    9:     = theme_stylesheet_link_tag :reset
    10:     = theme_stylesheet_link_tag :style
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml___839288014988275360_70296674323940_1331638545427885475'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.1ms)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:38:09 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.8ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Rendered pages/home.html.haml within layouts/application (68.1ms)
Completed 500 Internal Server Error in 89ms

ActionView::Template::Error (undefined method `base_theme_stylesheet_path' for #<#<Class:0x007fde716691b0>:0x007fde71668238>):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     = theme_stylesheet_link_tag :reset
    8:     = theme_stylesheet_link_tag :style
    9:     = theme_javascript_include_tag 'prototype'
    10:     = theme_javascript_include_tag 'effects'
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml___839288014988275360_70296681025260_1331638545427885475'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.0ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.9ms)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:38:37 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.6ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___839288014988275360_70296675216040_1331638545427885475 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
Rendered pages/home.html.haml within layouts/application (64.9ms)
Completed 500 Internal Server Error in 83ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x007fde70b6cc08>:0x007fde70b5fc38>):
    24:         = submit_tag "Find Books", { :class => 'bigfield' }
    25:         
    26:     %h1.logo
    27:       = link_to(theme_image_tag('logo.png', :alt => "Logo"), :controller => 'pages', :action => 'home')
    28:       = CONFIG[:sitename]
    29:       
    30:     #userbar
  app/views/layouts/application.html.haml:27:in `_app_views_layouts_application_html_haml___839288014988275360_70296675216040_1331638545427885475'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.0ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.4ms)


Started GET "/kdaf" for 127.0.0.1 at 2016-02-07 00:42:24 +0100

ActionController::RoutingError (No route matches "/kdaf"):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.0ms)


Started GET "/k" for 127.0.0.1 at 2016-02-07 00:42:29 +0100

ActionController::RoutingError (No route matches "/k"):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (2.7ms)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:42:31 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.6ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___839288014988275360_70296677920940_1331638545427885475 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
Rendered pages/home.html.haml within layouts/application (63.4ms)
Completed 500 Internal Server Error in 91ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x007fde71069530>:0x007fde710685b8>):
    24:         = submit_tag "Find Books", { :class => 'bigfield' }
    25:         
    26:     %h1.logo
    27:       = link_to(theme_image_tag('logo.png', :alt => "Logo"), :controller => 'pages', :action => 'home')
    28:       = CONFIG[:sitename]
    29:       
    30:     #userbar
  app/views/layouts/application.html.haml:27:in `_app_views_layouts_application_html_haml___839288014988275360_70296677920940_1331638545427885475'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.8ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.8ms)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:43:41 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.7ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
Rendered pages/home.html.haml within layouts/application (40.9ms)
Completed 200 OK in 59ms (Views: 45.6ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:43:43 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.5ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Rendered pages/home.html.haml within layouts/application (44.3ms)
Completed 200 OK in 60ms (Views: 49.3ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:44:07 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.5ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
Rendered pages/home.html.haml within layouts/application (51.8ms)
Completed 200 OK in 65ms (Views: 56.1ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:44:18 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.5ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___839288014988275360_70296679845700_1331638545427885475 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
Rendered pages/home.html.haml within layouts/application (84.6ms)
Completed 500 Internal Server Error in 108ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x007fde71441450>:0x007fde714404d8>):
    24:         = submit_tag "Find Books", { :class => 'bigfield' }
    25:         
    26:     %h1.logo
    27:       = link_to(theme_image_tag('logo.png', :alt => "Logo"), :controller => 'pages', :action => 'home')
    28:       = CONFIG[:sitename]
    29:       
    30:     #userbar
  app/views/layouts/application.html.haml:27:in `_app_views_layouts_application_html_haml___839288014988275360_70296679845700_1331638545427885475'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.8ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:49:23 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.6ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___839288014988275360_70296677999080_1331638545427885475 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
Rendered pages/home.html.haml within layouts/application (230.6ms)
Completed 500 Internal Server Error in 259ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x007fde710f0918>:0x007fde710d4ab0>):
    24:         = submit_tag "Find Books", { :class => 'bigfield' }
    25:         
    26:     %h1.logo
    27:       = link_to(theme_image_tag('logo.png', :alt => "Logo"), :controller => 'pages', :action => 'home')
    28:       = CONFIG[:sitename]
    29:       
    30:     #userbar
  app/views/layouts/application.html.haml:27:in `_app_views_layouts_application_html_haml___839288014988275360_70296677999080_1331638545427885475'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.5ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.2ms)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:49:24 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.6ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___839288014988275360_70296676184400_1331638545427885475 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
Rendered pages/home.html.haml within layouts/application (57.1ms)
Completed 500 Internal Server Error in 76ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x007fde70d39ef0>:0x007fde70d38c30>):
    24:         = submit_tag "Find Books", { :class => 'bigfield' }
    25:         
    26:     %h1.logo
    27:       = link_to(theme_image_tag('logo.png', :alt => "Logo"), :controller => 'pages', :action => 'home')
    28:       = CONFIG[:sitename]
    29:       
    30:     #userbar
  app/views/layouts/application.html.haml:27:in `_app_views_layouts_application_html_haml___839288014988275360_70296676184400_1331638545427885475'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.5ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.9ms)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:49:36 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.7ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___839288014988275360_70296678622600_1331638545427885475 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
Rendered pages/home.html.haml within layouts/application (60.6ms)
Completed 500 Internal Server Error in 79ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x007fde711e0698>:0x007fde711df400>):
    24:         = submit_tag "Find Books", { :class => 'bigfield' }
    25:         
    26:     %h1.logo
    27:       = link_to(theme_image_tag('logo.png', :alt => "Logo"), :controller => 'pages', :action => 'home')
    28:       = CONFIG[:sitename]
    29:       
    30:     #userbar
  app/views/layouts/application.html.haml:27:in `_app_views_layouts_application_html_haml___839288014988275360_70296678622600_1331638545427885475'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (18.2ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:50:18 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.6ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___3315070272267703148_37043020__1795782832520438292 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
Rendered pages/home.html.haml within layouts/application (87.2ms)
Completed 500 Internal Server Error in 136ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x000000046d8fe0>:0x000000046c2768>):
    24:         = submit_tag "Find Books", { :class => 'bigfield' }
    25:         
    26:     %h1.logo
    27:       = link_to(theme_image_tag('logo.png', :alt => "Logo"), :controller => 'pages', :action => 'home')
    28:       = CONFIG[:sitename]
    29:       
    30:     #userbar
  app/views/layouts/application.html.haml:27:in `_app_views_layouts_application_html_haml___3315070272267703148_37043020__1795782832520438292'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.8ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.3ms)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:51:40 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.5ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___3315070272267703148_70080617106440__1795782832520438292 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
Rendered pages/home.html.haml within layouts/application (55.3ms)
Completed 500 Internal Server Error in 74ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x007f79d4930be8>:0x007f79d493bc28>):
    24:         = submit_tag "Find Books", { :class => 'bigfield' }
    25:         
    26:     %h1.logo
    27:       = link_to(theme_image_tag('logo.png', :alt => "Logo"), :controller => 'pages', :action => 'home')
    28:       = CONFIG[:sitename]
    29:       
    30:     #userbar
  app/views/layouts/application.html.haml:27:in `_app_views_layouts_application_html_haml___3315070272267703148_70080617106440__1795782832520438292'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.7ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.3ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:52:16 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.9ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___2289662429448762411_37508440__295510199462023372 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
Rendered pages/home.html.haml within layouts/application (91.6ms)
Completed 500 Internal Server Error in 141ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x000000047b8f78>:0x0000000479f0c8>):
    24:         = submit_tag "Find Books", { :class => 'bigfield' }
    25:         
    26:     %h1.logo
    27:       = link_to(theme_image_tag('logo.png', :alt => "Logo"), :controller => 'pages', :action => 'home')
    28:       = CONFIG[:sitename]
    29:       
    30:     #userbar
  app/views/layouts/application.html.haml:27:in `_app_views_layouts_application_html_haml___2289662429448762411_37508440__295510199462023372'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.3ms)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:52:18 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.5ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___2289662429448762411_69901705324360__295510199462023372 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
Rendered pages/home.html.haml within layouts/application (54.0ms)
Completed 500 Internal Server Error in 73ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x007f26849e4268>:0x007f2684a172a8>):
    24:         = submit_tag "Find Books", { :class => 'bigfield' }
    25:         
    26:     %h1.logo
    27:       = link_to(theme_image_tag('logo.png', :alt => "Logo"), :controller => 'pages', :action => 'home')
    28:       = CONFIG[:sitename]
    29:       
    30:     #userbar
  app/views/layouts/application.html.haml:27:in `_app_views_layouts_application_html_haml___2289662429448762411_69901705324360__295510199462023372'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.7ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.1ms)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:52:20 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.6ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___2289662429448762411_69901712173420__295510199462023372 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
Rendered pages/home.html.haml within layouts/application (57.1ms)
Completed 500 Internal Server Error in 74ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x007f26856f46b0>:0x007f26857276f0>):
    24:         = submit_tag "Find Books", { :class => 'bigfield' }
    25:         
    26:     %h1.logo
    27:       = link_to(theme_image_tag('logo.png', :alt => "Logo"), :controller => 'pages', :action => 'home')
    28:       = CONFIG[:sitename]
    29:       
    30:     #userbar
  app/views/layouts/application.html.haml:27:in `_app_views_layouts_application_html_haml___2289662429448762411_69901712173420__295510199462023372'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.8ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.6ms)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:53:16 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.5ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___2289662429448762411_69901706141860__295510199462023372 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
Rendered pages/home.html.haml within layouts/application (57.7ms)
Completed 500 Internal Server Error in 76ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x007f2684ba7780>:0x007f2684ba6678>):
    24:         = submit_tag "Find Books", { :class => 'bigfield' }
    25:         
    26:     %h1.logo
    27:       = link_to(theme_image_tag('logo.png', :alt => "Logo"), :controller => 'pages', :action => 'home')
    28:       = CONFIG[:sitename]
    29:       
    30:     #userbar
  app/views/layouts/application.html.haml:27:in `_app_views_layouts_application_html_haml___2289662429448762411_69901706141860__295510199462023372'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.7ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:53:30 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (1.0ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1695363455589562914_34586800_1504061344837439205 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
Rendered pages/home.html.haml within layouts/application (92.1ms)
Completed 500 Internal Server Error in 150ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x00000004208ec0>:0x000000041fb9f0>):
    24:         = submit_tag "Find Books", { :class => 'bigfield' }
    25:         
    26:     %h1.logo
    27:       = link_to(theme_image_tag('logo.png', :alt => "Logo"), :controller => 'pages', :action => 'home')
    28:       = CONFIG[:sitename]
    29:       
    30:     #userbar
  app/views/layouts/application.html.haml:27:in `_app_views_layouts_application_html_haml__1695363455589562914_34586800_1504061344837439205'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.4ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.7ms)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:54:58 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.6ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
Rendered pages/home.html.haml within layouts/application (55.0ms)
Completed 500 Internal Server Error in 74ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x007faa28a1fd18>:0x007faa28a1eda0>):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     %link{ :rel => 'shortcut icon', :href => theme_image_path('favicon.ico'), :type => 'image/x-icon' }
    8:     %link{ :rel => 'apple-touch-icon', :href => theme_image_path('apple-touch-icon.png')  }
    9:     = theme_stylesheet_link_tag :reset
    10:     = theme_stylesheet_link_tag :style
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml__1695363455589562914_70184401429700_1504061344837439205'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.0ms)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:55:19 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.7ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Rendered pages/home.html.haml within layouts/application (48.6ms)
Completed 500 Internal Server Error in 65ms

ActionView::Template::Error (Inconsistent indentation: 4 spaces were used for indentation, but the rest of the document was indented using 6 spaces.):
    3:   
    4:       = yield
    5:     
    6:     #footer
    7:       %a{ :href => "http://www.nesta.org.uk/" }<
    8:         Powered by NESTA Bookshare 
    9:       &nbsp;&nbsp;
  app/views/layouts/application.html.haml:6

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.9ms)


Started GET "/" for 127.0.0.1 at 2016-02-07 00:55:51 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.5ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
Rendered pages/home.html.haml within layouts/application (54.5ms)
Completed 200 OK in 71ms (Views: 60.9ms | ActiveRecord: 0.5ms)


Started GET "/register" for 127.0.0.1 at 2016-02-07 00:55:58 +0100
  Processing by UsersController#new as HTML
Rendered users/_form.html.haml (12.4ms)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_users_new_html_haml___45696036094461814_12253580_1504061344837439205 at /home/carlos/APP/casterbridgebookshare/app/views/users/new.html.haml:12)
Rendered users/new.html.haml within layouts/application (33.2ms)
Completed 200 OK in 73ms (Views: 37.3ms | ActiveRecord: 0.0ms)


Started POST "/account" for 127.0.0.1 at 2016-02-07 00:56:40 +0100
  Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user"=>{"first_name"=>"Carlos", "last_name"=>"Carlos", "address1"=>"Carlos", "address2"=>"", "city"=>"Carlos", "county"=>"", "postcode"=>"28012", "phone"=>"", "email"=>"carlos@prueba.es", "login"=>"carlos", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Register"}
  [1m[36mSQL (0.4ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('carlos@prueba.es')) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('carlos')) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE ("users"."persistence_token" = '80b0c474fe103fee7326ff0ae974012991ea5c207a9c2e009306a89d4280e72a7eca0a071905a56f5616486e5acf6cfd3960e138edb78aa97e1ca07cc368d7aa') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT 1 FROM "users" WHERE ("users"."single_access_token" = 'uJ3dPZjV13X83DcCPQg') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mAREL (0.9ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "login", "email", "crypted_password", "password_salt", "persistence_token", "single_access_token", "perishable_token", "login_count", "failed_login_count", "last_request_at", "current_login_at", "last_login_at", "current_login_ip", "last_login_ip", "first_name", "last_name", "address1", "address2", "city", "county", "postcode", "phone", "status", "banned") VALUES ('2016-02-06 23:56:40.215714', '2016-02-06 23:56:40.215714', 'carlos', 'carlos@prueba.es', '4ddfab244ecece7f6c3fbee991fb6b5c7abb32c47ed3df82271b468f5bef38f301eac75ab780f9bd0548ed911a22f307b0c3655948589309a114bbb3c1dd3723', 'oDmAsp6tKNecY53EizZQ', '80b0c474fe103fee7326ff0ae974012991ea5c207a9c2e009306a89d4280e72a7eca0a071905a56f5616486e5acf6cfd3960e138edb78aa97e1ca07cc368d7aa', 'uJ3dPZjV13X83DcCPQg', 'axeAcO3mOvsNDosYBfQ', 1, 0, '2016-02-06 23:56:40.214950', '2016-02-06 23:56:40.214419', NULL, '127.0.0.1', NULL, 'Carlos', 'Carlos', 'Carlos', '', 'Carlos', '', '28012', '', 'user', 'f')
Rendered member_message/registration_confirmation.html.haml within layouts/member_message (10.3ms)

Sent mail to carlos@prueba.es (21ms)
Date: Sun, 07 Feb 2016 00:56:40 +0100
To: carlos@prueba.es
Message-ID: <56b6883886acc_54b73fd5149130c46897b@carlos-Inspiron-3521.mail>
Subject: Welcome to
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <style>
      /*<![CDATA[*/
        body
        {
          font-family: Helvetica, Arial, sans-serif;
        }
        
        h1
        {  
          color: #d12349;
          font-size: 250%;
        }
        
        img
        {
          border: 0;
        }
      /*]]>*/
    </style>
  </head>
  <body>
    <h1>
      
    </h1>
    <h2>
      Welcome to
      
    </h2>
    <p>Thanks for signing up. You're already logged in and ready to get started.</p>
    <h3>Getting Started</h3>
    <ul>
      <li>
        Add some books you'd like to lend to your
        <a href="http://0.0.0.0:3000/books">My Books</a>
        page.
      </li>
      <li>
        Let your friends and colleagues know about your books by sending them the link to your public books page:
        <a href="http://0.0.0.0:3000/members/carlos">http://0.0.0.0:3000/members/carlos</a>
      </li>
    </ul>
    <h3>Tips</h3>
    <ul>
      <li>
        You can borrow as many books as you like as long as the owners are happy to lend them to you.
      </li>
      <li>
        If someone requests a book from you, you don't have to lend it if you don't want to.
      </li>
      <li>
        You can lend a book for a minimum of one week. There's no maximum.
      </li>
      <li>
        Need help? Got a comment or complaint?
        <a href="http://0.0.0.0:3000/contact">Get in touch.</a>
      </li>
    </ul>
    <hr>
    <p>
      Your username is
      <strong>
        carlos
      </strong>
      and you can login at
      <a href="http://0.0.0.0:3000/login">http://0.0.0.0:3000/login</a>
    </p>
  </body>
</html>
Completed 500 Internal Server Error in 492ms

ArgumentError (A sender (Return-Path, Sender or From) required to send a message):
  app/models/user.rb:132:in `send_registration_confirmation'
  app/controllers/users_controller.rb:16:in `create'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.4ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.6ms)


Started GET "/register" for 127.0.0.1 at 2016-02-07 00:57:11 +0100
  Processing by UsersController#new as HTML
Rendered users/_form.html.haml (13.0ms)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_users_new_html_haml___45696036094461814_14075980_1504061344837439205 at /home/carlos/APP/casterbridgebookshare/app/views/users/new.html.haml:12)
Rendered users/new.html.haml within layouts/application (63.3ms)
Completed 500 Internal Server Error in 121ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x00000001b4df60>:0x00000001b279a0>):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     %link{ :rel => 'shortcut icon', :href => theme_image_path('favicon.ico'), :type => 'image/x-icon' }
    8:     %link{ :rel => 'apple-touch-icon', :href => theme_image_path('apple-touch-icon.png')  }
    9:     = theme_stylesheet_link_tag :reset
    10:     = theme_stylesheet_link_tag :style
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml__1695363455589562914_13538980_1504061344837439205'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.9ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (25.8ms)


Started GET "/register" for 127.0.0.1 at 2016-02-07 18:11:33 +0100
  Processing by UsersController#new as HTML
Rendered users/_form.html.haml (12.4ms)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_users_new_html_haml___45696036094461814_70184405922220_1504061344837439205 at /home/carlos/APP/casterbridgebookshare/app/views/users/new.html.haml:12)
Rendered users/new.html.haml within layouts/application (80.7ms)
Completed 500 Internal Server Error in 892ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x007faa292cd208>:0x007faa292af708>):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     %link{ :rel => 'shortcut icon', :href => theme_image_path('favicon.ico'), :type => 'image/x-icon' }
    8:     %link{ :rel => 'apple-touch-icon', :href => theme_image_path('apple-touch-icon.png')  }
    9:     = theme_stylesheet_link_tag :reset
    10:     = theme_stylesheet_link_tag :style
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml__1695363455589562914_70184405919720_1504061344837439205'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.5ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (26.0ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/casterbridgebookshare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-02-13 21:48:10 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (34.3ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Rendered pages/home.html.haml within layouts/application (181.9ms)
Completed 500 Internal Server Error in 322ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x000000046aa8e8>:0x000000046a85e8>):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     %link{ :rel => 'shortcut icon', :href => theme_image_path('favicon.ico'), :type => 'image/x-icon' }
    8:     %link{ :rel => 'apple-touch-icon', :href => theme_image_path('apple-touch-icon.png')  }
    9:     = theme_stylesheet_link_tag :reset
    10:     = theme_stylesheet_link_tag :style
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml__954627506455699529_37000960__4034055826981623591'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.0ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.3ms)


Started GET "/" for 127.0.0.1 at 2016-02-13 21:50:19 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.7ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
Rendered pages/home.html.haml within layouts/application (47.0ms)
Completed 500 Internal Server Error in 66ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x007fb8f8a81f20>:0x007fb8f8a80fa8>):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     %link{ :rel => 'shortcut icon', :href => theme_image_path('favicon.ico'), :type => 'image/x-icon' }
    8:     %link{ :rel => 'apple-touch-icon', :href => theme_image_path('apple-touch-icon.png')  }
    9:     = theme_stylesheet_link_tag :reset
    10:     = theme_stylesheet_link_tag :style
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml__954627506455699529_70216211273120__4034055826981623591'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.4ms)


Started GET "/" for 127.0.0.1 at 2016-02-13 21:59:54 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.5ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Rendered pages/home.html.haml within layouts/application (52.9ms)
Completed 500 Internal Server Error in 70ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x007fb8f97dbba8>:0x007fb8f97dac30>):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     %link{ :rel => 'shortcut icon', :href => theme_image_path('favicon.ico'), :type => 'image/x-icon' }
    8:     %link{ :rel => 'apple-touch-icon', :href => theme_image_path('apple-touch-icon.png')  }
    9:     = theme_stylesheet_link_tag :reset
    10:     = theme_stylesheet_link_tag :style
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml__954627506455699529_70216218231820__4034055826981623591'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.1ms)


Started GET "/" for 127.0.0.1 at 2016-02-13 22:00:01 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.6ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
Rendered pages/home.html.haml within layouts/application (50.2ms)
Completed 500 Internal Server Error in 66ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x007fb8f8ad7df8>:0x007fb8f8ad6e80>):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     %link{ :rel => 'shortcut icon', :href => theme_image_path('favicon.ico'), :type => 'image/x-icon' }
    8:     %link{ :rel => 'apple-touch-icon', :href => theme_image_path('apple-touch-icon.png')  }
    9:     = theme_stylesheet_link_tag :reset
    10:     = theme_stylesheet_link_tag :style
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml__954627506455699529_70216211407720__4034055826981623591'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.4ms)


Started GET "/" for 127.0.0.1 at 2016-02-13 22:00:38 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.7ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Rendered pages/home.html.haml within layouts/application (41.5ms)
Completed 500 Internal Server Error in 54ms

ActionView::Template::Error (Illegal element: classes and ids must have values.):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     #%link{ :rel => 'shortcut icon', :href => theme_image_path('favicon.ico'), :type => 'image/x-icon' }
    8:     #%link{ :rel => 'apple-touch-icon', :href => theme_image_path('apple-touch-icon.png')  }
    9:     = theme_stylesheet_link_tag :reset
    10:     = theme_stylesheet_link_tag :style
  app/views/layouts/application.html.haml:7

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.9ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (7.9ms)


Started GET "/" for 127.0.0.1 at 2016-02-13 22:04:23 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.7ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
Rendered pages/home.html.haml within layouts/application (49.7ms)
Completed 500 Internal Server Error in 70ms

ActionView::Template::Error (undefined method `base_theme_stylesheet_path' for #<#<Class:0x007fb8f98240b0>:0x007fb8f97e70c0>):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     = theme_stylesheet_link_tag :reset
    8:     = theme_stylesheet_link_tag :style
    9:     = theme_javascript_include_tag 'prototype'
    10:     = theme_javascript_include_tag 'effects'
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml__954627506455699529_70216218256960__4034055826981623591'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.8ms)


Started GET "/" for 127.0.0.1 at 2016-02-13 22:04:26 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.7ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Rendered pages/home.html.haml within layouts/application (69.7ms)
Completed 500 Internal Server Error in 89ms

ActionView::Template::Error (undefined method `base_theme_stylesheet_path' for #<#<Class:0x0000000429a848>:0x00000004298c00>):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     = theme_stylesheet_link_tag :reset
    8:     = theme_stylesheet_link_tag :style
    9:     = theme_javascript_include_tag 'prototype'
    10:     = theme_javascript_include_tag 'effects'
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml__954627506455699529_34882860__4034055826981623591'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.9ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.1ms)


Started GET "/" for 127.0.0.1 at 2016-02-13 22:04:54 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.6ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
Rendered pages/home.html.haml within layouts/application (47.4ms)
Completed 500 Internal Server Error in 65ms

ActionView::Template::Error (undefined method `base_theme_javascript_path' for #<#<Class:0x007fb8f9827d50>:0x007fb8f9826d88>):
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7:     = theme_javascript_include_tag 'prototype'
    8:     = theme_javascript_include_tag 'effects'
    9:     = theme_javascript_include_tag 'dragdrop'
    10:     = theme_javascript_include_tag 'controls'
  app/views/layouts/application.html.haml:7:in `_app_views_layouts_application_html_haml__954627506455699529_70216218387560__4034055826981623591'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.0ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.3ms)


Started GET "/" for 127.0.0.1 at 2016-02-13 22:05:03 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.6ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__954627506455699529_34623820__4034055826981623591 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
Rendered pages/home.html.haml within layouts/application (60.8ms)
Completed 500 Internal Server Error in 77ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x00000004212830>:0x00000004211160>):
    75:         &nbsp;&nbsp;
    76:         = link_to theme_image_tag('twitter.png', :alt => "@#{CONFIG[:twitter]} on Twitter", :size => "16x16"), "http://twitter.com/#{CONFIG[:twitter]}"
    77:       &nbsp;&nbsp;
    78:       = link_to (theme_image_tag 'rss-mono.png', :alt => "Atom feed for new books", :size => "16x16"), titles_path(:format => :atom)
    79: 
    80: 
    81:     - unless CONFIG[:google_analytics].nil?
  app/views/layouts/application.html.haml:78:in `_app_views_layouts_application_html_haml__954627506455699529_34623820__4034055826981623591'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.9ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.9ms)


Started GET "/" for 127.0.0.1 at 2016-02-13 22:05:32 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.5ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__954627506455699529_70216217416840__4034055826981623591 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
Rendered pages/home.html.haml within layouts/application (45.8ms)
Completed 200 OK in 57ms (Views: 49.3ms | ActiveRecord: 0.5ms)


Started GET "/login" for 127.0.0.1 at 2016-02-13 22:05:43 +0100
  Processing by UserSessionsController#new as HTML
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__954627506455699529_70216210370280__4034055826981623591 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (15.3ms)
Completed 200 OK in 57ms (Views: 18.9ms | ActiveRecord: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2016-02-13 22:06:43 +0100
  Processing by UsersController#new as HTML
Rendered users/_form.html.haml (12.2ms)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_users_new_html_haml___1204906108025364616_70216217156480__4034055826981623591 at /home/carlos/APP/casterbridgebookshare/app/views/users/new.html.haml:12)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__954627506455699529_70216217153860__4034055826981623591 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
Rendered users/new.html.haml within layouts/application (42.9ms)
Completed 200 OK in 82ms (Views: 46.5ms | ActiveRecord: 0.0ms)


Started POST "/account" for 127.0.0.1 at 2016-02-13 22:07:36 +0100
  Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user"=>{"first_name"=>"Carlos", "last_name"=>"González", "address1"=>"calle buendía", "address2"=>"", "city"=>"azuqueca", "county"=>"", "postcode"=>"19200", "phone"=>"", "email"=>"carlos@prueba.es", "login"=>"carlos", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Register"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('carlos@prueba.es')) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('carlos')) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE ("users"."persistence_token" = '57c32c700f389229835ca0290ba45af4285709323932dfeb7a39f69dd8a672ee4e112e5994c0a129e757d4e3c7968eb459eb2689768f99462dd9b74254d38f3b') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT 1 FROM "users" WHERE ("users"."single_access_token" = 'cGi5zD4a0dsLUbrMVQS') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "login", "email", "crypted_password", "password_salt", "persistence_token", "single_access_token", "perishable_token", "login_count", "failed_login_count", "last_request_at", "current_login_at", "last_login_at", "current_login_ip", "last_login_ip", "first_name", "last_name", "address1", "address2", "city", "county", "postcode", "phone", "status", "banned") VALUES ('2016-02-13 21:07:36.582508', '2016-02-13 21:07:36.582508', 'carlos', 'carlos@prueba.es', '378cf5c6cbdc2d546b8ccf163db4ef569b7b5564f62eb0d4261131f340cbfd0d94f37542ae68cd264dfe5f47754d522cb3a4f7610970aaf3a594767fb5d8e632', 'D5LwH4RRnGuinKdbKFn', '57c32c700f389229835ca0290ba45af4285709323932dfeb7a39f69dd8a672ee4e112e5994c0a129e757d4e3c7968eb459eb2689768f99462dd9b74254d38f3b', 'cGi5zD4a0dsLUbrMVQS', 'MCU7ePUJgawNniKfEeC9', 1, 0, '2016-02-13 21:07:36.582053', '2016-02-13 21:07:36.581767', NULL, '127.0.0.1', NULL, 'Carlos', 'González', 'calle buendía', '', 'azuqueca', '', '19200', '', 'user', 'f')
Rendered member_message/registration_confirmation.html.haml within layouts/member_message (9.8ms)

Sent mail to carlos@prueba.es (12ms)
Date: Sat, 13 Feb 2016 22:07:36 +0100
To: carlos@prueba.es
Message-ID: <56bf9b18d67df_67f820997d061342@carlos-Inspiron-3521.mail>
Subject: Welcome to
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <style>
      /*<![CDATA[*/
        body
        {
          font-family: Helvetica, Arial, sans-serif;
        }
        
        h1
        {  
          color: #d12349;
          font-size: 250%;
        }
        
        img
        {
          border: 0;
        }
      /*]]>*/
    </style>
  </head>
  <body>
    <h1>
      
    </h1>
    <h2>
      Welcome to
      
    </h2>
    <p>Thanks for signing up. You're already logged in and ready to get started.</p>
    <h3>Getting Started</h3>
    <ul>
      <li>
        Add some books you'd like to lend to your
        <a href="http://0.0.0.0:3000/books">My Books</a>
        page.
      </li>
      <li>
        Let your friends and colleagues know about your books by sending them the link to your public books page:
        <a href="http://0.0.0.0:3000/members/carlos">http://0.0.0.0:3000/members/carlos</a>
      </li>
    </ul>
    <h3>Tips</h3>
    <ul>
      <li>
        You can borrow as many books as you like as long as the owners are happy to lend them to you.
      </li>
      <li>
        If someone requests a book from you, you don't have to lend it if you don't want to.
      </li>
      <li>
        You can lend a book for a minimum of one week. There's no maximum.
      </li>
      <li>
        Need help? Got a comment or complaint?
        <a href="http://0.0.0.0:3000/contact">Get in touch.</a>
      </li>
    </ul>
    <hr>
    <p>
      Your username is
      <strong>
        carlos
      </strong>
      and you can login at
      <a href="http://0.0.0.0:3000/login">http://0.0.0.0:3000/login</a>
    </p>
  </body>
</html>
Completed 500 Internal Server Error in 413ms

ArgumentError (A sender (Return-Path, Sender or From) required to send a message):
  app/models/user.rb:132:in `send_registration_confirmation'
  app/controllers/users_controller.rb:16:in `create'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.7ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.9ms)


Started GET "/accessibility" for 127.0.0.1 at 2016-02-13 22:08:20 +0100
  Processing by PagesController#accessibility as HTML
Rendered pages/accessibility.html.haml within layouts/application (11.1ms)
Completed 500 Internal Server Error in 18ms

ActionView::Template::Error (no implicit conversion of nil into String):
    3:   /
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7: 
    8:     = csrf_meta_tag
    9:     = yield :head
  app/views/layouts/application.html.haml:6:in `+'
  app/views/layouts/application.html.haml:6:in `_app_views_layouts_application_html_haml__954627506455699529_70216211658960__4034055826981623591'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.5ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.1ms)


Started GET "/contact" for 127.0.0.1 at 2016-02-13 22:08:23 +0100
  Processing by PagesController#contact as HTML
Rendered pages/contact.html.haml within layouts/application (25.6ms)
Completed 500 Internal Server Error in 32ms

ActionView::Template::Error (no implicit conversion of nil into String):
    3:   /
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7: 
    8:     = csrf_meta_tag
    9:     = yield :head
  app/views/layouts/application.html.haml:6:in `+'
  app/views/layouts/application.html.haml:6:in `_app_views_layouts_application_html_haml__954627506455699529_25185020__4034055826981623591'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.8ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.1ms)


Started GET "/register" for 127.0.0.1 at 2016-02-13 22:09:22 +0100
  Processing by UsersController#new as HTML
Rendered users/_form.html.haml (11.3ms)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_users_new_html_haml___1204906108025364616_70216217500360__4034055826981623591 at /home/carlos/APP/casterbridgebookshare/app/views/users/new.html.haml:12)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__954627506455699529_70216217496720__4034055826981623591 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
Rendered users/new.html.haml within layouts/application (42.0ms)
Completed 200 OK in 81ms (Views: 45.2ms | ActiveRecord: 0.0ms)


Started POST "/account" for 127.0.0.1 at 2016-02-13 22:09:54 +0100
  Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user"=>{"first_name"=>"Carlos", "last_name"=>"Carlos", "address1"=>"calle buendía", "address2"=>"", "city"=>"azuqueca", "county"=>"", "postcode"=>"19200", "phone"=>"", "email"=>"carlos@prueba.es", "login"=>"carlos", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Register"}
  [1m[36mSQL (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('carlos@prueba.es')) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('carlos')) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE ("users"."persistence_token" = 'deb5f7f6e3312d2f87eb6a99344307728ae77496ffae81fa67ac2f2b785158067e6dd9a88977371bb936cd9da3fa8b6ac22a898a08b144971e3bb7c5c627d892') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT 1 FROM "users" WHERE ("users"."single_access_token" = 'Udhy8wUP3SxxRt0ZPU') LIMIT 1
  [1m[36mAREL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "login", "email", "crypted_password", "password_salt", "persistence_token", "single_access_token", "perishable_token", "login_count", "failed_login_count", "last_request_at", "current_login_at", "last_login_at", "current_login_ip", "last_login_ip", "first_name", "last_name", "address1", "address2", "city", "county", "postcode", "phone", "status", "banned") VALUES ('2016-02-13 21:09:54.675151', '2016-02-13 21:09:54.675151', 'carlos', 'carlos@prueba.es', 'f3289a4d5b798d70f7936d7f0e27b88f892555d56441ea8161caaad0c0723e12bc78f46c587e9876ac4c0b0f13565aa9ed37ed105e5d53920b0864fbc66fead3', 'SoyOEVHLTQ1rxUIyVwrQ', 'deb5f7f6e3312d2f87eb6a99344307728ae77496ffae81fa67ac2f2b785158067e6dd9a88977371bb936cd9da3fa8b6ac22a898a08b144971e3bb7c5c627d892', 'Udhy8wUP3SxxRt0ZPU', 'bwgonSopP2NlHniBWCjH', 1, 0, '2016-02-13 21:09:54.674796', '2016-02-13 21:09:54.674609', NULL, '127.0.0.1', NULL, 'Carlos', 'Carlos', 'calle buendía', '', 'azuqueca', '', '19200', '', 'user', 'f')[0m
Rendered member_message/registration_confirmation.html.haml within layouts/member_message (7.2ms)

Sent mail to carlos@prueba.es (3ms)
Date: Sat, 13 Feb 2016 22:09:54 +0100
To: carlos@prueba.es
Message-ID: <56bf9ba2aa22f_67f83fdc7c48b9c461495@carlos-Inspiron-3521.mail>
Subject: Welcome to
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <style>
      /*<![CDATA[*/
        body
        {
          font-family: Helvetica, Arial, sans-serif;
        }
        
        h1
        {  
          color: #d12349;
          font-size: 250%;
        }
        
        img
        {
          border: 0;
        }
      /*]]>*/
    </style>
  </head>
  <body>
    <h1>
      
    </h1>
    <h2>
      Welcome to
      
    </h2>
    <p>Thanks for signing up. You're already logged in and ready to get started.</p>
    <h3>Getting Started</h3>
    <ul>
      <li>
        Add some books you'd like to lend to your
        <a href="http://0.0.0.0:3000/books">My Books</a>
        page.
      </li>
      <li>
        Let your friends and colleagues know about your books by sending them the link to your public books page:
        <a href="http://0.0.0.0:3000/members/carlos">http://0.0.0.0:3000/members/carlos</a>
      </li>
    </ul>
    <h3>Tips</h3>
    <ul>
      <li>
        You can borrow as many books as you like as long as the owners are happy to lend them to you.
      </li>
      <li>
        If someone requests a book from you, you don't have to lend it if you don't want to.
      </li>
      <li>
        You can lend a book for a minimum of one week. There's no maximum.
      </li>
      <li>
        Need help? Got a comment or complaint?
        <a href="http://0.0.0.0:3000/contact">Get in touch.</a>
      </li>
    </ul>
    <hr>
    <p>
      Your username is
      <strong>
        carlos
      </strong>
      and you can login at
      <a href="http://0.0.0.0:3000/login">http://0.0.0.0:3000/login</a>
    </p>
  </body>
</html>
Completed 500 Internal Server Error in 106ms

ArgumentError (A sender (Return-Path, Sender or From) required to send a message):
  app/models/user.rb:132:in `send_registration_confirmation'
  app/controllers/users_controller.rb:16:in `create'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.5ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.6ms)


Started POST "/account" for 127.0.0.1 at 2016-02-13 22:15:05 +0100
  Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user"=>{"first_name"=>"Carlos", "last_name"=>"Carlos", "address1"=>"calle buendía", "address2"=>"", "city"=>"azuqueca", "county"=>"", "postcode"=>"19200", "phone"=>"", "email"=>"carlos@prueba.es", "login"=>"carlos", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Register"}
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('carlos@prueba.es')) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."login") = LOWER('carlos')) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT 1 FROM "users" WHERE ("users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT 1 FROM "users" WHERE ("users"."single_access_token" = 'a4iRW2dou1wLnQSzLrjm') LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "users" ("created_at", "updated_at", "login", "email", "crypted_password", "password_salt", "persistence_token", "single_access_token", "perishable_token", "login_count", "failed_login_count", "last_request_at", "current_login_at", "last_login_at", "current_login_ip", "last_login_ip", "first_name", "last_name", "address1", "address2", "city", "county", "postcode", "phone", "status", "banned") VALUES ('2016-02-13 21:15:05.679240', '2016-02-13 21:15:05.679240', 'carlos', 'carlos@prueba.es', '0d31c6992bb0ca016292403bf42619937ec89ae88ef0559d4280f21d7478f42af728a9ae91503ff9c7a06c2e51df80d80e494ce16d7b4b472cafb2d950362c6d', '97DGAflBhlAmdJkkoQlJ', 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e', 'a4iRW2dou1wLnQSzLrjm', 'ntsfkZdZZuU539n7OgvA', 1, 0, '2016-02-13 21:15:05.678842', '2016-02-13 21:15:05.678630', NULL, '127.0.0.1', NULL, 'Carlos', 'Carlos', 'calle buendía', '', 'azuqueca', '', '19200', '', 'user', 'f')
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mAREL (0.2ms)[0m  [1mUPDATE "users" SET "status" = 'admin', "perishable_token" = '8pXbt79GzuZmSle4KdCE', "updated_at" = '2016-02-13 21:15:05.685440' WHERE "users"."id" = 1[0m
Redirected to http://localhost:3000/books
Completed 302 Found in 228ms


Started GET "/books" for 127.0.0.1 at 2016-02-13 22:15:05 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-02-13 21:15:05.967079', "perishable_token" = 'CiVlAvcHHYM4F2sHXId', "updated_at" = '2016-02-13 21:15:05.967431' WHERE "users"."id" = 1
  [1m[36mBook Load (0.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
Rendered books/index.html.haml within layouts/application (15.9ms)
Completed 500 Internal Server Error in 195ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x007fb8f9401c80>:0x007fb8f9337f48>):
    3: .panel
    4: 
    5: 
    6:   = theme_image_tag 'barcode.jpg', :alt => "Barcode example", :id => "barcode"
    7: 
    8:   %h2 Add a Book
    9:   
  app/views/books/index.html.haml:6:in `_app_views_books_index_html_haml__4369323735154316340_70216215802180__4034055826981623591'
  app/controllers/books_controller.rb:9:in `index'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.6ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (23.0ms)


Started GET "/books" for 127.0.0.1 at 2016-02-13 22:15:56 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-02-13 21:15:56.270376', "perishable_token" = 'eqI9MQCnq48UJkLnVJC', "updated_at" = '2016-02-13 21:15:56.270769' WHERE "users"."id" = 1
  [1m[36mBook Load (0.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
Rendered books/index.html.haml within layouts/application (14.8ms)
Completed 500 Internal Server Error in 240ms

ActionView::Template::Error (no implicit conversion of nil into String):
    3:   /
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7: 
    8:     = csrf_meta_tag
    9:     = yield :head
  app/views/layouts/application.html.haml:6:in `+'
  app/views/layouts/application.html.haml:6:in `_app_views_layouts_application_html_haml__954627506455699529_70216218859420__4034055826981623591'
  app/controllers/books_controller.rb:9:in `index'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.5ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.4ms)


Started POST "/account" for 127.0.0.1 at 2016-02-13 22:16:28 +0100
  Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user"=>{"first_name"=>"Carlos", "last_name"=>"Carlos", "address1"=>"calle buendía", "address2"=>"", "city"=>"azuqueca", "county"=>"", "postcode"=>"19200", "phone"=>"", "email"=>"carlos@prueba.es", "login"=>"carlos", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Register"}
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "last_request_at" = '2016-02-13 21:16:28.224138', "perishable_token" = 'k9GIhgBR1tm2Q7fP0xw4', "updated_at" = '2016-02-13 21:16:28.224772' WHERE "users"."id" = 1
Redirected to http://localhost:3000/account
Completed 302 Found in 236ms


Started GET "/account" for 127.0.0.1 at 2016-02-13 22:16:28 +0100
  Processing by UsersController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-02-13 21:16:28.502375', "perishable_token" = '1DtHAPOmFlAVNcKBuy', "updated_at" = '2016-02-13 21:16:28.502717' WHERE "users"."id" = 1[0m
Completed 404 Not Found in 151ms

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:25:in `show'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.2ms)


Started POST "/account" for 127.0.0.1 at 2016-02-13 22:16:49 +0100
  Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user"=>{"first_name"=>"Carlos", "last_name"=>"Carlos", "address1"=>"calle buendía", "address2"=>"", "city"=>"azuqueca", "county"=>"", "postcode"=>"19200", "phone"=>"", "email"=>"carlos@prueba.es", "login"=>"carlos", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Register"}
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.5ms)[0m  UPDATE "users" SET "last_request_at" = '2016-02-13 21:16:49.335691', "perishable_token" = 'inVB1lZnwCI3plxCt9rB', "updated_at" = '2016-02-13 21:16:49.336028' WHERE "users"."id" = 1
Redirected to http://localhost:3000/account
Completed 302 Found in 210ms


Started GET "/account" for 127.0.0.1 at 2016-02-13 22:16:49 +0100
  Processing by UsersController#show as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-02-13 21:16:49.593412', "perishable_token" = 's1FPx2OLRORXqnV690YE', "updated_at" = '2016-02-13 21:16:49.593778' WHERE "users"."id" = 1[0m
Completed 404 Not Found in 259ms

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:25:in `show'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.8ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (17.2ms)


Started GET "/login" for 127.0.0.1 at 2016-02-13 22:18:07 +0100
  Processing by UserSessionsController#new as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "last_request_at" = '2016-02-13 21:18:07.914581', "perishable_token" = 'T2PYH6hK7PCcrXK72E', "updated_at" = '2016-02-13 21:18:07.914946' WHERE "users"."id" = 1
Redirected to http://localhost:3000/account
Completed 302 Found in 252ms


Started GET "/account" for 127.0.0.1 at 2016-02-13 22:18:08 +0100
  Processing by UsersController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-02-13 21:18:08.231116', "perishable_token" = 'lvER1en4jrII90eqlSV0', "updated_at" = '2016-02-13 21:18:08.231507' WHERE "users"."id" = 1[0m
Completed 404 Not Found in 281ms

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:25:in `show'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.4ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.9ms)


Started GET "/login" for 127.0.0.1 at 2016-02-13 22:18:12 +0100
  Processing by UserSessionsController#new as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.7ms)[0m  UPDATE "users" SET "last_request_at" = '2016-02-13 21:18:12.197817', "perishable_token" = 'dPLmpYfTTaK32K74QmX', "updated_at" = '2016-02-13 21:18:12.198166' WHERE "users"."id" = 1
Redirected to http://localhost:3000/account
Completed 302 Found in 199ms


Started GET "/account" for 127.0.0.1 at 2016-02-13 22:18:12 +0100
  Processing by UsersController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.5ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-02-13 21:18:12.435057', "perishable_token" = 'tuJfdTs3SALgCaRykaD', "updated_at" = '2016-02-13 21:18:12.435469' WHERE "users"."id" = 1[0m
Completed 404 Not Found in 293ms

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:25:in `show'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.7ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.1ms)


Started GET "/" for 127.0.0.1 at 2016-02-13 22:20:35 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.6ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-02-13 21:20:35.366886', "perishable_token" = 'wPfDvYnWF5Yg3aPqgCo3', "updated_at" = '2016-02-13 21:20:35.367280' WHERE "users"."id" = 1[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__954627506455699529_70216214046600__4034055826981623591 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered pages/home.html.haml within layouts/application (240.1ms)
Completed 200 OK in 251ms (Views: 241.3ms | ActiveRecord: 2.5ms)


Started GET "/books" for 127.0.0.1 at 2016-02-13 22:20:41 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "last_request_at" = '2016-02-13 21:20:41.413699', "perishable_token" = '2ek9XPIVWXW72bIlDRJ3', "updated_at" = '2016-02-13 21:20:41.414043' WHERE "users"."id" = 1
  [1m[36mBook Load (0.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
Rendered books/index.html.haml within layouts/application (13.0ms)
Completed 500 Internal Server Error in 242ms

ActionView::Template::Error (no implicit conversion of nil into String):
    3:   /
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7: 
    8:     = csrf_meta_tag
    9:     = yield :head
  app/views/layouts/application.html.haml:6:in `+'
  app/views/layouts/application.html.haml:6:in `_app_views_layouts_application_html_haml__954627506455699529_70216215736300__4034055826981623591'
  app/controllers/books_controller.rb:9:in `index'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.8ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.2ms)


Started GET "/books" for 127.0.0.1 at 2016-02-13 22:21:06 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "last_request_at" = '2016-02-13 21:21:06.446343', "perishable_token" = 'uxSEAuOOyCvwv3Jd04W1', "updated_at" = '2016-02-13 21:21:06.446677' WHERE "users"."id" = 1
  [1m[36mBook Load (0.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__954627506455699529_34996820__4034055826981623591 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (30.0ms)
Completed 200 OK in 251ms (Views: 32.7ms | ActiveRecord: 2.0ms)


Started POST "/books" for 127.0.0.1 at 2016-02-13 22:21:23 +0100
  Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "isbn13"=>"978548754"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-02-13 21:21:23.719066', "perishable_token" = 'f5qrNcOcIjyP8Xj4tpQo', "updated_at" = '2016-02-13 21:21:23.719395' WHERE "users"."id" = 1
  [1m[36mTitle Load (0.2ms)[0m  [1mSELECT "titles".* FROM "titles" WHERE "titles"."isbn13" = '978548754' LIMIT 1[0m
Redirected to http://localhost:3000/books
Completed 302 Found in 744ms


Started GET "/books" for 127.0.0.1 at 2016-02-13 22:21:24 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-02-13 21:21:24.691080', "perishable_token" = '8JN5d8qyVSEPVm1uON', "updated_at" = '2016-02-13 21:21:24.691514' WHERE "users"."id" = 1
  [1m[36mBook Load (0.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__954627506455699529_70216218369740__4034055826981623591 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (29.9ms)
Completed 200 OK in 272ms (Views: 32.4ms | ActiveRecord: 3.6ms)


Started POST "/books" for 127.0.0.1 at 2016-02-13 22:22:10 +0100
  Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "isbn13"=>"9788496453746"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.7ms)[0m  UPDATE "users" SET "last_request_at" = '2016-02-13 21:22:10.953195', "perishable_token" = 'XGNhyzOsWkxMcZyOcTe', "updated_at" = '2016-02-13 21:22:10.953550' WHERE "users"."id" = 1
  [1m[36mTitle Load (0.1ms)[0m  [1mSELECT "titles".* FROM "titles" WHERE "titles"."isbn13" = '9788496453746' LIMIT 1[0m
Redirected to http://localhost:3000/books
Completed 302 Found in 755ms


Started GET "/books" for 127.0.0.1 at 2016-02-13 22:22:11 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "last_request_at" = '2016-02-13 21:22:11.779800', "perishable_token" = '6KhbNZ5qlG5wagySqn2', "updated_at" = '2016-02-13 21:22:11.780140' WHERE "users"."id" = 1
  [1m[36mBook Load (0.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__954627506455699529_70216217965900__4034055826981623591 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (30.6ms)
Completed 200 OK in 278ms (Views: 33.1ms | ActiveRecord: 3.8ms)


Started GET "/lent" for 127.0.0.1 at 2016-02-13 22:22:20 +0100
  Processing by UsersController#loans as HTML
  [1m[35mUser Load (9.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-02-13 21:22:20.617432', "perishable_token" = 'UjJGXXvN43jhSiCyfYnc', "updated_at" = '2016-02-13 21:22:20.617792' WHERE "users"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
Rendered users/loans.html.haml within layouts/application (12.5ms)
Completed 500 Internal Server Error in 247ms

ActionView::Template::Error (no implicit conversion of nil into String):
    3:   /
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7: 
    8:     = csrf_meta_tag
    9:     = yield :head
  app/views/layouts/application.html.haml:6:in `+'
  app/views/layouts/application.html.haml:6:in `_app_views_layouts_application_html_haml__954627506455699529_70216214472320__4034055826981623591'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mLoan Load (0.4ms)[0m  SELECT "loans".* FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL)) ORDER BY created_at DESC
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.4ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.9ms)


Started POST "/books" for 127.0.0.1 at 2016-02-13 22:26:18 +0100
  Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "isbn13"=>"9782894502556"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-02-13 21:26:19.038522', "perishable_token" = 's1GMqYNZ7EO49cDcC3d', "updated_at" = '2016-02-13 21:26:19.038902' WHERE "users"."id" = 1[0m
  [1m[35mTitle Load (0.1ms)[0m  SELECT "titles".* FROM "titles" WHERE "titles"."isbn13" = '9782894502556' LIMIT 1
  [1m[36mAuthor Load (0.2ms)[0m  [1mSELECT "authors".* FROM "authors" WHERE "authors"."name" = 'Christine L''Heureux' LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "authors" ("name", "created_at", "updated_at") VALUES ('Christine L''Heureux', '2016-02-13 21:26:19.645339', '2016-02-13 21:26:19.645339')
  [1m[36mSubject Load (0.2ms)[0m  [1mSELECT "subjects".* FROM "subjects" WHERE "subjects"."name" = 'Juvenile Fiction' LIMIT 1[0m
  [1m[35mAREL (0.5ms)[0m  INSERT INTO "subjects" ("name", "created_at", "updated_at") VALUES ('Juvenile Fiction', '2016-02-13 21:26:19.844917', '2016-02-13 21:26:19.844917')
  [1m[36mAREL (0.6ms)[0m  [1mINSERT INTO "titles" ("isbn13", "title", "subtitle", "description", "image_url", "created_at", "updated_at") VALUES ('9782894502556', 'Caillou Play with Me', NULL, 'Caillou wants to play with his father, but Daddy has to go to work, so he must wait until the weekend to be able to play with him.', 'http://books.google.es/books/content?id=FlbzJL7PjIYC&printsec=frontcover&img=1&zoom=5&source=gbs_api', '2016-02-13 21:26:19.963394', '2016-02-13 21:26:19.963394')[0m
Redirected to http://localhost:3000/books
Completed 302 Found in 989ms


Started GET "/books" for 127.0.0.1 at 2016-02-13 22:26:19 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "last_request_at" = '2016-02-13 21:26:20.073042', "perishable_token" = 'cVtXRCqHDNobl29JP9iU', "updated_at" = '2016-02-13 21:26:20.073410' WHERE "users"."id" = 1
  [1m[36mBook Load (0.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__954627506455699529_70216216322240__4034055826981623591 at /home/carlos/APP/casterbridgebookshare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (34.9ms)
Completed 200 OK in 215ms (Views: 37.3ms | ActiveRecord: 5.5ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/LibreTeka-from-BookShare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-02-28 19:04:54 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.6ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-02-28 18:04:55.145818', "perishable_token" = 'lOQeB2o2E77PQRMShRPy', "updated_at" = '2016-02-28 18:04:55.146192' WHERE "users"."id" = 1[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_38777660_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered pages/home.html.haml within layouts/application (309.6ms)
Completed 200 OK in 440ms (Views: 311.5ms | ActiveRecord: 3.1ms)


Started GET "/logout" for 127.0.0.1 at 2016-02-28 19:05:11 +0100
  Processing by UserSessionsController#destroy as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."persistence_token" = 'bb058962d19a73db4d009b1e383d600f1664f405571ca3aed0bc98d5541a8ff38e8d9017b60db08d309d70d4b9fbed73179cebeafd2c33abfd862c0eefc8c79e' LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (142.6ms)[0m  UPDATE "users" SET "last_request_at" = '2016-02-28 18:05:11.840413', "perishable_token" = 'kdndD26heth8k3ayZ0Gf', "updated_at" = '2016-02-28 18:05:11.840807' WHERE "users"."id" = 1
Redirected to http://localhost:3000/login
Completed 302 Found in 703ms


Started GET "/login" for 127.0.0.1 at 2016-02-28 19:05:12 +0100
  Processing by UserSessionsController#new as HTML
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_70158837934380_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (20.4ms)
Completed 200 OK in 60ms (Views: 24.1ms | ActiveRecord: 143.6ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-02-28 19:05:26 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@carlos.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@carlos.es') LIMIT 1[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_70158833389380_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (15.8ms)
Completed 200 OK in 54ms (Views: 19.1ms | ActiveRecord: 0.2ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-02-28 19:05:35 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_26571040_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (15.8ms)
Completed 200 OK in 53ms (Views: 19.6ms | ActiveRecord: 0.0ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-02-28 19:05:41 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_70158834012820_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (17.4ms)
Completed 200 OK in 59ms (Views: 20.6ms | ActiveRecord: 0.2ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-02-28 19:06:43 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_70158833351500_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (17.6ms)
Completed 200 OK in 58ms (Views: 21.2ms | ActiveRecord: 0.2ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-02-28 19:07:01 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_22776680_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (23.1ms)
Completed 200 OK in 64ms (Views: 26.7ms | ActiveRecord: 0.3ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-02-28 19:07:12 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_70158836822240_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (17.3ms)
Completed 200 OK in 56ms (Views: 20.9ms | ActiveRecord: 0.2ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-02-28 19:07:30 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_38427200_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (16.8ms)
Completed 200 OK in 55ms (Views: 20.0ms | ActiveRecord: 0.2ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-02-28 19:08:16 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_70158834499220_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (16.0ms)
Completed 200 OK in 60ms (Views: 19.2ms | ActiveRecord: 0.3ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-02-28 19:08:20 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_70158832865240_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (15.7ms)
Completed 200 OK in 53ms (Views: 19.3ms | ActiveRecord: 0.2ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-02-28 19:08:36 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_27235920_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (29.3ms)
Completed 200 OK in 69ms (Views: 33.1ms | ActiveRecord: 0.3ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-02-28 19:08:43 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_70158836702240_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (16.5ms)
Completed 200 OK in 56ms (Views: 19.9ms | ActiveRecord: 0.2ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-02-28 19:08:49 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_38180280_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (16.8ms)
Completed 200 OK in 53ms (Views: 20.0ms | ActiveRecord: 0.2ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-02-28 19:08:55 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_70158831859760_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (23.9ms)
Completed 200 OK in 62ms (Views: 28.7ms | ActiveRecord: 0.3ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-02-28 19:08:58 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_70158832384880_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (15.9ms)
Completed 200 OK in 56ms (Views: 19.4ms | ActiveRecord: 0.3ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-02-28 19:09:00 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_70158835585280_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (17.6ms)
Completed 200 OK in 61ms (Views: 21.0ms | ActiveRecord: 0.2ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-02-28 19:09:04 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_70158835170860_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (15.6ms)
Completed 200 OK in 52ms (Views: 18.9ms | ActiveRecord: 0.3ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-02-28 19:09:07 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_22766760_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (23.9ms)
Completed 200 OK in 63ms (Views: 28.0ms | ActiveRecord: 0.3ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-02-28 19:09:09 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_70158836149920_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (18.6ms)
Completed 200 OK in 62ms (Views: 23.4ms | ActiveRecord: 0.3ms)


Started GET "/password_resets/new" for 127.0.0.1 at 2016-02-28 19:09:23 +0100
  Processing by PasswordResetsController#new as HTML
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_password_resets_new_html_haml__4425479968878161784_70158832038080_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/password_resets/new.html.haml:3)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_70158832035500_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered password_resets/new.html.haml within layouts/application (49.5ms)
Completed 200 OK in 54ms (Views: 53.5ms | ActiveRecord: 0.0ms)


Started POST "/password_resets" for 127.0.0.1 at 2016-02-28 19:09:32 +0100
  Processing by PasswordResetsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "email"=>"carlos@prueba.es", "commit"=>"Reset my password"}
  [1m[35mUser Load (0.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'carlos@prueba.es' LIMIT 1
  [1m[36mAREL (0.5ms)[0m  [1mUPDATE "users" SET "perishable_token" = 'oUti8SwVQ8MijxdWev6', "updated_at" = '2016-02-28 18:09:32.405860' WHERE "users"."id" = 1[0m
Rendered member_message/password_reset_instructions.html.haml within layouts/member_message (3.6ms)
Rendered member_message/password_reset_instructions.text.haml (1.1ms)

Sent mail to carlos@prueba.es (30ms)
Date: Sun, 28 Feb 2016 19:09:32 +0100
From: noreply@sutton.gov.uk
To: carlos@prueba.es
Message-ID: <56d337dccb79d_1c3d231a02c3818e@carlos-Inspiron-3521.mail>
Subject: password reset instructions
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_56d337dcc4c9a_1c3d231a02c3783d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_56d337dcc4c9a_1c3d231a02c3783d
Date: Sun, 28 Feb 2016 19:09:32 +0100
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit
Content-ID: <56d337dcca767_1c3d231a02c38054@carlos-Inspiron-3521.mail>

<!DOCTYPE html>
<html>
  <head>
    <style>
      /*<![CDATA[*/
        body
        {
          font-family: Helvetica, Arial, sans-serif;
        }
        
        h1
        {  
          color: #d12349;
          font-size: 250%;
        }
        
        img
        {
          border: 0;
        }
      /*]]>*/
    </style>
  </head>
  <body>
    <h1>
      
    </h1>
    <h2>Resetting your password</h2>
    <p>To reset your password, please click this link:</p>
    <a href="http://0.0.0.0:3000/password_resets/oUti8SwVQ8MijxdWev6/edit">http://0.0.0.0:3000/password_resets/oUti8SwVQ8MijxdWev6/edit</a>
    <p>If you didn't ask us to reset your password just ignore this email.</p>
  </body>
</html>


----==_mimepart_56d337dcc4c9a_1c3d231a02c3783d
Date: Sun, 28 Feb 2016 19:09:32 +0100
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit
Content-ID: <56d337dcc8790_1c3d231a02c37910@carlos-Inspiron-3521.mail>

Resetting your password
To reset your password, please click the link below or copy and paste it into your web browser:
http://0.0.0.0:3000/password_resets/oUti8SwVQ8MijxdWev6/edit
If you didn't ask us to reset your password just ignore this email.


----==_mimepart_56d337dcc4c9a_1c3d231a02c3783d--
Completed 500 Internal Server Error in 502ms

Errno::ECONNREFUSED (Connection refused - connect(2) for "0.0.0.0" port 1025):
  app/models/user.rb:55:in `deliver_password_reset_instructions!'
  app/controllers/password_resets_controller.rb:12:in `create'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (13.6ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (24.2ms)


Started GET "/password_resets/oUti8SwVQ8MijxdWev6/edit" for 127.0.0.1 at 2016-02-28 19:09:59 +0100
  Processing by PasswordResetsController#edit as HTML
  Parameters: {"id"=>"oUti8SwVQ8MijxdWev6"}
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE (perishable_token = 'oUti8SwVQ8MijxdWev6' and updated_at > '2016-02-28 17:59:59.208501') LIMIT 1
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_password_resets_edit_html_haml___2688213642619259628_70158834707680_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/password_resets/edit.html.haml:3)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_70158834704840_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered password_resets/edit.html.haml within layouts/application (48.5ms)
Completed 200 OK in 113ms (Views: 52.5ms | ActiveRecord: 0.5ms)


Started POST "/password_resets/oUti8SwVQ8MijxdWev6" for 127.0.0.1 at 2016-02-28 19:10:11 +0100
  Processing by PasswordResetsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"PGc8wBSyv81NVGQ8eVX/SUP01ffYm8s+vL7Qn0EyIu8=", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Change my password and login", "id"=>"oUti8SwVQ8MijxdWev6"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE (perishable_token = 'oUti8SwVQ8MijxdWev6' and updated_at > '2016-02-28 18:00:11.996893') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT 1 FROM "users" WHERE ("users"."persistence_token" = '871364715c326b97ea1418b3d71d0856bf7ef15ae1dd62ae796c44f88845dde115de2a4f489da92fec18607af560600ed90736076371687efc0279a16d7fbb15') AND ("users".id <> 1) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mUPDATE "users" SET "password_salt" = 'HfQO1fnt9P64KiBISnI', "crypted_password" = 'efbb07a914cdc7cebf4c1c5c9d7916e120e3ee46fa9b2c27280add0fdeb77a864c01c661b4f0c9027ff06556a26077014fd4ed91d52220802faae367f07c4679', "persistence_token" = '871364715c326b97ea1418b3d71d0856bf7ef15ae1dd62ae796c44f88845dde115de2a4f489da92fec18607af560600ed90736076371687efc0279a16d7fbb15', "perishable_token" = 'aybBk5AwytgPpKcDuwSj', "login_count" = 2, "last_login_at" = '2016-02-13 21:15:05.678630', "current_login_at" = '2016-02-28 18:10:12.062848', "last_login_ip" = '127.0.0.1', "last_request_at" = '2016-02-28 18:10:12.063304', "updated_at" = '2016-02-28 18:10:12.063782' WHERE "users"."id" = 1[0m
Redirected to http://0.0.0.0:3000/books
Completed 302 Found in 230ms


Started GET "/books" for 127.0.0.1 at 2016-02-28 19:10:12 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-02-28 18:10:12.322796', "perishable_token" = 'mukvKyT88Gz08EpYAvc9', "updated_at" = '2016-02-28 18:10:12.323140' WHERE "users"."id" = 1
  [1m[36mBook Load (0.2ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___747122108303411864_70158837767740_62267126987801449 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (31.3ms)
Completed 200 OK in 195ms (Views: 35.1ms | ActiveRecord: 2.3ms)


Started GET "/lent" for 127.0.0.1 at 2016-02-28 19:10:57 +0100
  Processing by UsersController#loans as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "last_request_at" = '2016-02-28 18:10:57.380763', "perishable_token" = 'yFR1pHZJFFiJiWisqZNj', "updated_at" = '2016-02-28 18:10:57.381155' WHERE "users"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
Rendered users/loans.html.haml within layouts/application (16.5ms)
Completed 500 Internal Server Error in 261ms

ActionView::Template::Error (no implicit conversion of nil into String):
    3:   /
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7: 
    8:     = csrf_meta_tag
    9:     = yield :head
  app/views/layouts/application.html.haml:6:in `+'
  app/views/layouts/application.html.haml:6:in `_app_views_layouts_application_html_haml___747122108303411864_36804120_62267126987801449'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (7.5ms)
  [1m[35mLoan Load (0.5ms)[0m  SELECT "loans".* FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL)) ORDER BY created_at DESC
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.6ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (18.4ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/LibreTeka-from-BookShare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-02-28 21:07:00 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.6ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__3281937456670100716_17314100__999129561277461181 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered pages/home.html.haml within layouts/application (166.2ms)
Completed 200 OK in 207ms (Views: 170.5ms | ActiveRecord: 0.6ms)


Started GET "/accessibility" for 127.0.0.1 at 2016-02-28 21:07:09 +0100
  Processing by PagesController#accessibility as HTML
Rendered pages/accessibility.html.haml within layouts/application (11.3ms)
Completed 500 Internal Server Error in 15ms

ActionView::Template::Error (no implicit conversion of nil into String):
    3:   /
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7: 
    8:     = csrf_meta_tag
    9:     = yield :head
  app/views/layouts/application.html.haml:6:in `+'
  app/views/layouts/application.html.haml:6:in `_app_views_layouts_application_html_haml__3281937456670100716_37686520__999129561277461181'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.9ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/LibreTeka-from-BookShare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-03-03 20:56:56 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (1.1ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___4400577637501270439_31566040__2367132394077276038 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered pages/home.html.haml within layouts/application (161.1ms)
Completed 200 OK in 255ms (Views: 188.1ms | ActiveRecord: 1.1ms)


Started GET "/search?utf8=%E2%9C%93&q=d&commit=Find+Books" for 127.0.0.1 at 2016-03-03 20:57:08 +0100
  Processing by SearchController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>"d", "commit"=>"Find Books"}
  [1m[35mTitle Load (20.4ms)[0m  
 SELECT *
 FROM titles
 WHERE title LIKE '%d%' OR subtitle LIKE '%d%'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "searches" ("query", "created_at", "updated_at", "results") VALUES ('d', '2016-03-03 19:57:09.120627', '2016-03-03 19:57:09.120627', 0)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___4400577637501270439_70252448052860__2367132394077276038 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered search/index.html.haml within layouts/application (45.7ms)
Completed 200 OK in 502ms (Views: 58.4ms | ActiveRecord: 21.1ms)


Started GET "/accessibility" for 127.0.0.1 at 2016-03-03 20:58:48 +0100
  Processing by PagesController#accessibility as HTML
Rendered pages/accessibility.html.haml within layouts/application (12.3ms)
Completed 500 Internal Server Error in 38ms

ActionView::Template::Error (no implicit conversion of nil into String):
    3:   /
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7: 
    8:     = csrf_meta_tag
    9:     = yield :head
  app/views/layouts/application.html.haml:6:in `+'
  app/views/layouts/application.html.haml:6:in `_app_views_layouts_application_html_haml___4400577637501270439_70252451813560__2367132394077276038'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.5ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.1ms)


Started GET "/contact" for 127.0.0.1 at 2016-03-03 20:58:52 +0100
  Processing by PagesController#contact as HTML
Rendered pages/contact.html.haml within layouts/application (14.2ms)
Completed 500 Internal Server Error in 22ms

ActionView::Template::Error (no implicit conversion of nil into String):
    3:   /
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7: 
    8:     = csrf_meta_tag
    9:     = yield :head
  app/views/layouts/application.html.haml:6:in `+'
  app/views/layouts/application.html.haml:6:in `_app_views_layouts_application_html_haml___4400577637501270439_70252454645000__2367132394077276038'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.0ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.0ms)


Started GET "/" for 127.0.0.1 at 2016-03-03 20:59:15 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.5ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___4400577637501270439_70252450213760__2367132394077276038 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered pages/home.html.haml within layouts/application (56.4ms)
Completed 200 OK in 68ms (Views: 60.0ms | ActiveRecord: 0.5ms)


Started GET "/login" for 127.0.0.1 at 2016-03-03 20:59:19 +0100
  Processing by UserSessionsController#new as HTML
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___4400577637501270439_70252448880100__2367132394077276038 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (14.1ms)
Completed 200 OK in 65ms (Views: 34.9ms | ActiveRecord: 0.0ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-03-03 20:59:25 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@carlos.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@carlos.es') LIMIT 1
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___4400577637501270439_70252448387100__2367132394077276038 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (18.0ms)
Completed 200 OK in 64ms (Views: 21.5ms | ActiveRecord: 0.3ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-03-03 20:59:39 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___4400577637501270439_70252447049020__2367132394077276038 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (16.0ms)
Completed 200 OK in 78ms (Views: 44.5ms | ActiveRecord: 0.2ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-03-03 21:00:06 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___4400577637501270439_70252451292900__2367132394077276038 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (22.3ms)
Completed 200 OK in 68ms (Views: 25.4ms | ActiveRecord: 0.2ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-03-03 21:00:24 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___4400577637501270439_70252453930940__2367132394077276038 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (16.7ms)
Completed 200 OK in 60ms (Views: 19.8ms | ActiveRecord: 0.3ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-03-03 21:00:33 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___4400577637501270439_31667420__2367132394077276038 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (19.0ms)
Completed 200 OK in 70ms (Views: 23.7ms | ActiveRecord: 0.3ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-03-03 21:00:38 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___4400577637501270439_70252451896580__2367132394077276038 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (16.4ms)
Completed 200 OK in 63ms (Views: 19.7ms | ActiveRecord: 0.3ms)


Started GET "/password_resets/new" for 127.0.0.1 at 2016-03-03 21:00:41 +0100
  Processing by PasswordResetsController#new as HTML
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_password_resets_new_html_haml___2570913651195246103_70252453838900__2367132394077276038 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/password_resets/new.html.haml:3)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___4400577637501270439_70252453820240__2367132394077276038 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered password_resets/new.html.haml within layouts/application (44.7ms)
Completed 200 OK in 75ms (Views: 75.2ms | ActiveRecord: 0.0ms)


Started POST "/password_resets" for 127.0.0.1 at 2016-03-03 21:00:50 +0100
  Processing by PasswordResetsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "email"=>"carlos@prueba.es", "commit"=>"Reset my password"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'carlos@prueba.es' LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE "users" SET "perishable_token" = 'GGhwXZ32fjzSSaOdedLM', "updated_at" = '2016-03-03 20:00:50.204671' WHERE "users"."id" = 1[0m
Rendered member_message/password_reset_instructions.html.haml within layouts/member_message (4.2ms)
Rendered member_message/password_reset_instructions.text.haml (1.3ms)

Sent mail to carlos@prueba.es (24ms)
Date: Thu, 03 Mar 2016 21:00:50 +0100
From: noreply@sutton.gov.uk
To: carlos@prueba.es
Message-ID: <56d897f27753c_18c13fe4e8006ac4587b1@carlos-Inspiron-3521.mail>
Subject: password reset instructions
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_56d897f2725d9_18c13fe4e8006ac4584d7";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_56d897f2725d9_18c13fe4e8006ac4584d7
Date: Thu, 03 Mar 2016 21:00:50 +0100
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit
Content-ID: <56d897f27641b_18c13fe4e8006ac458659@carlos-Inspiron-3521.mail>

<!DOCTYPE html>
<html>
  <head>
    <style>
      /*<![CDATA[*/
        body
        {
          font-family: Helvetica, Arial, sans-serif;
        }
        
        h1
        {  
          color: #d12349;
          font-size: 250%;
        }
        
        img
        {
          border: 0;
        }
      /*]]>*/
    </style>
  </head>
  <body>
    <h1>
      
    </h1>
    <h2>Resetting your password</h2>
    <p>To reset your password, please click this link:</p>
    <a href="http://0.0.0.0:3000/password_resets/GGhwXZ32fjzSSaOdedLM/edit">http://0.0.0.0:3000/password_resets/GGhwXZ32fjzSSaOdedLM/edit</a>
    <p>If you didn't ask us to reset your password just ignore this email.</p>
  </body>
</html>


----==_mimepart_56d897f2725d9_18c13fe4e8006ac4584d7
Date: Thu, 03 Mar 2016 21:00:50 +0100
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit
Content-ID: <56d897f274fc0_18c13fe4e8006ac4585c1@carlos-Inspiron-3521.mail>

Resetting your password
To reset your password, please click the link below or copy and paste it into your web browser:
http://0.0.0.0:3000/password_resets/GGhwXZ32fjzSSaOdedLM/edit
If you didn't ask us to reset your password just ignore this email.


----==_mimepart_56d897f2725d9_18c13fe4e8006ac4584d7--
Completed 500 Internal Server Error in 416ms

Errno::ECONNREFUSED (Connection refused - connect(2) for "0.0.0.0" port 1025):
  app/models/user.rb:55:in `deliver_password_reset_instructions!'
  app/controllers/password_resets_controller.rb:12:in `create'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.5ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.5ms)


Started GET "/password_resets/GGhwXZ32fjzSSaOdedLM/edit" for 127.0.0.1 at 2016-03-03 21:01:17 +0100
  Processing by PasswordResetsController#edit as HTML
  Parameters: {"id"=>"GGhwXZ32fjzSSaOdedLM"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE (perishable_token = 'GGhwXZ32fjzSSaOdedLM' and updated_at > '2016-03-03 19:51:17.524746') LIMIT 1
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_password_resets_edit_html_haml___836743778695112192_70252447298360__2367132394077276038 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/password_resets/edit.html.haml:3)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___4400577637501270439_70252447295940__2367132394077276038 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered password_resets/edit.html.haml within layouts/application (40.7ms)
Completed 200 OK in 139ms (Views: 69.7ms | ActiveRecord: 0.4ms)


Started POST "/password_resets/GGhwXZ32fjzSSaOdedLM" for 127.0.0.1 at 2016-03-03 21:01:26 +0100
  Processing by PasswordResetsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"udplyCdfoVNjh4386eAQ/7oINx40xkxj286Yz0+JoOk=", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Change my password and login", "id"=>"GGhwXZ32fjzSSaOdedLM"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE (perishable_token = 'GGhwXZ32fjzSSaOdedLM' and updated_at > '2016-03-03 19:51:26.800182') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT 1 FROM "users" WHERE ("users"."persistence_token" = '9f466f7d28663895e083ae26bd4d670879e26cbb734a607624b2b0123e3c5d9e9f48fe58fb3732f182d4f727c14c1e5fa6c31ac0a1d5843c3dfa18c3805ab051') AND ("users".id <> 1) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mUPDATE "users" SET "password_salt" = 'a9OoFPjlQ8ezYiHMyTL', "crypted_password" = '8e530db8d172925edbdbe7fb7d5601587047c080be147cfc87db5ec3f9dabdd2827a73a88bc940a9db1034b86ae41ebf1d9fb3ab846d9eb05058cd66e416791a', "persistence_token" = '9f466f7d28663895e083ae26bd4d670879e26cbb734a607624b2b0123e3c5d9e9f48fe58fb3732f182d4f727c14c1e5fa6c31ac0a1d5843c3dfa18c3805ab051', "perishable_token" = 'AsgeqCJqoe7pJ9gBlyHD', "login_count" = 3, "last_login_at" = '2016-02-28 18:10:12.062848', "current_login_at" = '2016-03-03 20:01:26.893033', "last_request_at" = '2016-03-03 20:01:26.893532', "updated_at" = '2016-03-03 20:01:26.894139' WHERE "users"."id" = 1[0m
Redirected to http://0.0.0.0:3000/books
Completed 302 Found in 244ms


Started GET "/books" for 127.0.0.1 at 2016-03-03 21:01:27 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 20:01:27.099819', "perishable_token" = 'ipm9DhRI2UIRsk6DRPc1', "updated_at" = '2016-03-03 20:01:27.100195' WHERE "users"."id" = 1
  [1m[36mBook Load (0.2ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___4400577637501270439_31321240__2367132394077276038 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (34.4ms)
Completed 200 OK in 221ms (Views: 52.1ms | ActiveRecord: 2.1ms)


Started GET "/password_resets/" for 127.0.0.1 at 2016-03-03 21:03:38 +0100

AbstractController::ActionNotFound (The action 'index' could not be found for PasswordResetsController):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.8ms)


Started GET "/password_resets/edit" for 127.0.0.1 at 2016-03-03 21:03:41 +0100

AbstractController::ActionNotFound (The action 'show' could not be found for PasswordResetsController):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (1.0ms)


Started GET "/password_resets/new" for 127.0.0.1 at 2016-03-03 21:03:55 +0100
  Processing by PasswordResetsController#new as HTML
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_password_resets_new_html_haml___2570913651195246103_70252453017580__2367132394077276038 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/password_resets/new.html.haml:3)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___4400577637501270439_70252453015300__2367132394077276038 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered password_resets/new.html.haml within layouts/application (49.6ms)
Completed 200 OK in 55ms (Views: 54.9ms | ActiveRecord: 0.0ms)


Started GET "/password_resets/GGhwXZ32fjzSSaOdedLM/edit%3C" for 127.0.0.1 at 2016-03-03 21:04:33 +0100

AbstractController::ActionNotFound (The action 'GGhwXZ32fjzSSaOdedLM' could not be found for PasswordResetsController):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (1.3ms)


Started GET "/password_resets/GGhwXZ32fjzSSaOdedLM/edit" for 127.0.0.1 at 2016-03-03 21:04:48 +0100
  Processing by PasswordResetsController#edit as HTML
  Parameters: {"id"=>"GGhwXZ32fjzSSaOdedLM"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE (perishable_token = 'GGhwXZ32fjzSSaOdedLM' and updated_at > '2016-03-03 19:54:48.143254') LIMIT 1
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 59ms


Started GET "/" for 127.0.0.1 at 2016-03-03 21:04:48 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.5ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 20:04:48.273870', "perishable_token" = 'WeAMKxlNJqLU2fV0gkm', "updated_at" = '2016-03-03 20:04:48.274313' WHERE "users"."id" = 1
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___4400577637501270439_70252454092320__2367132394077276038 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))
Rendered pages/home.html.haml within layouts/application (253.7ms)
Completed 200 OK in 265ms (Views: 255.7ms | ActiveRecord: 2.0ms)


Started GET "/logout" for 127.0.0.1 at 2016-03-03 21:04:53 +0100
  Processing by UserSessionsController#destroy as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-03-03 20:04:53.848456', "perishable_token" = 'TBrwNwecTW5ZjY36tYcn', "updated_at" = '2016-03-03 20:04:53.848799' WHERE "users"."id" = 1[0m
Redirected to http://0.0.0.0:3000/login
Completed 302 Found in 197ms


Started GET "/login" for 127.0.0.1 at 2016-03-03 21:04:54 +0100
  Processing by UserSessionsController#new as HTML
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___4400577637501270439_70252447254200__2367132394077276038 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (16.4ms)
Completed 200 OK in 55ms (Views: 20.2ms | ActiveRecord: 0.6ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-03-03 21:05:05 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"udplyCdfoVNjh4386eAQ/7oINx40xkxj286Yz0+JoOk=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___4400577637501270439_70252451956040__2367132394077276038 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (17.5ms)
Completed 200 OK in 81ms (Views: 20.7ms | ActiveRecord: 0.2ms)


Started GET "/password_resets/new" for 127.0.0.1 at 2016-03-03 21:05:37 +0100
  Processing by PasswordResetsController#new as HTML
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_password_resets_new_html_haml___2570913651195246103_70252453117580__2367132394077276038 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/password_resets/new.html.haml:3)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___4400577637501270439_70252453115080__2367132394077276038 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered password_resets/new.html.haml within layouts/application (60.0ms)
Completed 200 OK in 64ms (Views: 64.2ms | ActiveRecord: 0.0ms)


Started POST "/password_resets" for 127.0.0.1 at 2016-03-03 21:05:44 +0100
  Processing by PasswordResetsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"udplyCdfoVNjh4386eAQ/7oINx40xkxj286Yz0+JoOk=", "email"=>"carlos@prueba.es", "commit"=>"Reset my password"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."email" = 'carlos@prueba.es' LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "perishable_token" = 'xFrnrbDGXJO3UF3dWkd', "updated_at" = '2016-03-03 20:05:44.575499' WHERE "users"."id" = 1
Rendered member_message/password_reset_instructions.html.haml within layouts/member_message (4.4ms)
Rendered member_message/password_reset_instructions.text.haml (1.7ms)

Sent mail to carlos@prueba.es (13ms)
Date: Thu, 03 Mar 2016 21:05:44 +0100
From: noreply@sutton.gov.uk
To: carlos@prueba.es
Message-ID: <56d89918cfd51_18c13fe4ec9d7d24591f7@carlos-Inspiron-3521.mail>
Subject: password reset instructions
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_56d89918cd5ab_18c13fe4ec9d7d245885b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_56d89918cd5ab_18c13fe4ec9d7d245885b
Date: Thu, 03 Mar 2016 21:05:44 +0100
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit
Content-ID: <56d89918cf776_18c13fe4ec9d7d2459013@carlos-Inspiron-3521.mail>

<!DOCTYPE html>
<html>
  <head>
    <style>
      /*<![CDATA[*/
        body
        {
          font-family: Helvetica, Arial, sans-serif;
        }
        
        h1
        {  
          color: #d12349;
          font-size: 250%;
        }
        
        img
        {
          border: 0;
        }
      /*]]>*/
    </style>
  </head>
  <body>
    <h1>
      
    </h1>
    <h2>Resetting your password</h2>
    <p>To reset your password, please click this link:</p>
    <a href="http://0.0.0.0:3000/password_resets/xFrnrbDGXJO3UF3dWkd/edit">http://0.0.0.0:3000/password_resets/xFrnrbDGXJO3UF3dWkd/edit</a>
    <p>If you didn't ask us to reset your password just ignore this email.</p>
  </body>
</html>


----==_mimepart_56d89918cd5ab_18c13fe4ec9d7d245885b
Date: Thu, 03 Mar 2016 21:05:44 +0100
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit
Content-ID: <56d89918ced40_18c13fe4ec9d7d24589c3@carlos-Inspiron-3521.mail>

Resetting your password
To reset your password, please click the link below or copy and paste it into your web browser:
http://0.0.0.0:3000/password_resets/xFrnrbDGXJO3UF3dWkd/edit
If you didn't ask us to reset your password just ignore this email.


----==_mimepart_56d89918cd5ab_18c13fe4ec9d7d245885b--
Completed 500 Internal Server Error in 362ms

Errno::ECONNREFUSED (Connection refused - connect(2) for "0.0.0.0" port 1025):
  app/models/user.rb:55:in `deliver_password_reset_instructions!'
  app/controllers/password_resets_controller.rb:12:in `create'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.6ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.5ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/LibreTeka-from-BookShare/config/environment.rb:5)


Started POST "/password_resets" for 127.0.0.1 at 2016-03-03 22:11:27 +0100
  Processing by PasswordResetsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "email"=>"carlos@prueba.es", "commit"=>"Reset my password"}
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'carlos@prueba.es' LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE "users" SET "perishable_token" = '9PVEODUDS7JIHveOiB9', "updated_at" = '2016-03-03 21:11:27.171766' WHERE "users"."id" = 1[0m
Rendered member_message/password_reset_instructions.html.haml within layouts/member_message (5.2ms)
Rendered member_message/password_reset_instructions.text.haml (1.5ms)

Sent mail to carlos@prueba.es (21ms)
Date: Thu, 03 Mar 2016 22:11:27 +0100
From: noreply@sutton.gov.uk
To: carlos@prueba.es
Message-ID: <56d8a87f6227d_1eb724c486445152@carlos-Inspiron-3521.mail>
Subject: password reset instructions
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_56d8a87f5d6e9_1eb724c4864448e3";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_56d8a87f5d6e9_1eb724c4864448e3
Date: Thu, 03 Mar 2016 22:11:27 +0100
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit
Content-ID: <56d8a87f61290_1eb724c48644504d@carlos-Inspiron-3521.mail>

<!DOCTYPE html>
<html>
  <head>
    <style>
      /*<![CDATA[*/
        body
        {
          font-family: Helvetica, Arial, sans-serif;
        }
        
        h1
        {  
          color: #d12349;
          font-size: 250%;
        }
        
        img
        {
          border: 0;
        }
      /*]]>*/
    </style>
  </head>
  <body>
    <h1>
      
    </h1>
    <h2>Resetting your password</h2>
    <p>To reset your password, please click this link:</p>
    <a href="http://0.0.0.0:3000/password_resets/9PVEODUDS7JIHveOiB9/edit">http://0.0.0.0:3000/password_resets/9PVEODUDS7JIHveOiB9/edit</a>
    <p>If you didn't ask us to reset your password just ignore this email.</p>
  </body>
</html>


----==_mimepart_56d8a87f5d6e9_1eb724c4864448e3
Date: Thu, 03 Mar 2016 22:11:27 +0100
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit
Content-ID: <56d8a87f601a7_1eb724c486444934@carlos-Inspiron-3521.mail>

Resetting your password
To reset your password, please click the link below or copy and paste it into your web browser:
http://0.0.0.0:3000/password_resets/9PVEODUDS7JIHveOiB9/edit
If you didn't ask us to reset your password just ignore this email.


----==_mimepart_56d8a87f5d6e9_1eb724c4864448e3--
Completed 500 Internal Server Error in 350ms

Errno::ECONNREFUSED (Connection refused - connect(2) for "0.0.0.0" port 1025):
  app/models/user.rb:55:in `deliver_password_reset_instructions!'
  app/controllers/password_resets_controller.rb:12:in `create'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.6ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.5ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/LibreTeka-from-BookShare/config/environment.rb:5)


Started POST "/password_resets" for 127.0.0.1 at 2016-03-03 22:15:48 +0100
  Processing by PasswordResetsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "email"=>"carlos@prueba.es", "commit"=>"Reset my password"}
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'carlos@prueba.es' LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE "users" SET "perishable_token" = 'IgMx7i8biOJTNDrJJDMC', "updated_at" = '2016-03-03 21:15:48.656900' WHERE "users"."id" = 1[0m
Rendered member_message/password_reset_instructions.html.haml within layouts/member_message (3.7ms)
Rendered member_message/password_reset_instructions.text.haml (0.9ms)

Sent mail to carlos@prueba.es (23ms)
Date: Thu, 03 Mar 2016 22:15:48 +0100
From: noreply@sutton.gov.uk
To: carlos@prueba.es
Message-ID: <56d8a984dafc5_1ef519615588428f@carlos-Inspiron-3521.mail>
Subject: password reset instructions
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_56d8a984d6628_1ef51961558839f";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_56d8a984d6628_1ef51961558839f
Date: Thu, 03 Mar 2016 22:15:48 +0100
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit
Content-ID: <56d8a984d9f51_1ef519615588418@carlos-Inspiron-3521.mail>

<!DOCTYPE html>
<html>
  <head>
    <style>
      /*<![CDATA[*/
        body
        {
          font-family: Helvetica, Arial, sans-serif;
        }
        
        h1
        {  
          color: #d12349;
          font-size: 250%;
        }
        
        img
        {
          border: 0;
        }
      /*]]>*/
    </style>
  </head>
  <body>
    <h1>
      
    </h1>
    <h2>Resetting your password</h2>
    <p>To reset your password, please click this link:</p>
    <a href="http://0.0.0.0:3000/password_resets/IgMx7i8biOJTNDrJJDMC/edit">http://0.0.0.0:3000/password_resets/IgMx7i8biOJTNDrJJDMC/edit</a>
    <p>If you didn't ask us to reset your password just ignore this email.</p>
  </body>
</html>


----==_mimepart_56d8a984d6628_1ef51961558839f
Date: Thu, 03 Mar 2016 22:15:48 +0100
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit
Content-ID: <56d8a984d8603_1ef5196155884011@carlos-Inspiron-3521.mail>

Resetting your password
To reset your password, please click the link below or copy and paste it into your web browser:
http://0.0.0.0:3000/password_resets/IgMx7i8biOJTNDrJJDMC/edit
If you didn't ask us to reset your password just ignore this email.


----==_mimepart_56d8a984d6628_1ef51961558839f--
Redirected to http://localhost:3000/
Completed 302 Found in 340ms


Started GET "/" for 127.0.0.1 at 2016-03-03 22:15:48 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.5ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___1856602885369770322_70157489433520__1765910603315975893 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered pages/home.html.haml within layouts/application (46.8ms)
Completed 200 OK in 59ms (Views: 50.2ms | ActiveRecord: 1.4ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/LibreTeka-from-BookShare/config/environment.rb:5)


Started GET "/login" for 127.0.0.1 at 2016-03-03 22:22:49 +0100
  Processing by UserSessionsController#new as HTML
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___511136041002469377_10326320_3369739974236754594 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (45.1ms)
Completed 200 OK in 124ms (Views: 49.1ms | ActiveRecord: 0.0ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-03-03 22:22:55 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___511136041002469377_70257313777060_3369739974236754594 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered user_sessions/new.html.haml within layouts/application (15.3ms)
Completed 200 OK in 61ms (Views: 18.5ms | ActiveRecord: 0.3ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-03-03 22:23:33 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "user_session"=>{"login"=>"carlos", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "login_count" = 4, "last_login_at" = '2016-03-03 20:01:26.893033', "current_login_at" = '2016-03-03 21:23:33.950972', "last_request_at" = '2016-03-03 21:23:33.951445', "perishable_token" = 'UO7DD0hEzChKWKc66wjg', "updated_at" = '2016-03-03 21:23:33.952085' WHERE "users"."id" = 1
Redirected to http://localhost:3000/
Completed 302 Found in 240ms


Started GET "/" for 127.0.0.1 at 2016-03-03 22:23:34 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.5ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:23:34.255586', "perishable_token" = 'iu0u0mgxC3Mp16CPcXYS', "updated_at" = '2016-03-03 21:23:34.255942' WHERE "users"."id" = 1
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___511136041002469377_70257320331060_3369739974236754594 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))
Rendered pages/home.html.haml within layouts/application (193.9ms)
Completed 200 OK in 205ms (Views: 195.9ms | ActiveRecord: 2.5ms)


Started GET "/books" for 127.0.0.1 at 2016-03-03 22:23:39 +0100
  Processing by BooksController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-03-03 21:23:39.888640', "perishable_token" = 'k4UdHXUhBLJYq4d7aY8d', "updated_at" = '2016-03-03 21:23:39.889013' WHERE "users"."id" = 1[0m
  [1m[35mBook Load (0.2ms)[0m  SELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___511136041002469377_70257314457780_3369739974236754594 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))
Rendered books/index.html.haml within layouts/application (28.2ms)
Completed 200 OK in 238ms (Views: 32.3ms | ActiveRecord: 1.4ms)


Started GET "/lent" for 127.0.0.1 at 2016-03-03 22:23:44 +0100
  Processing by UsersController#loans as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-03-03 21:23:44.114677', "perishable_token" = 'ONmdXCGmjMhqKVVdENQ4', "updated_at" = '2016-03-03 21:23:44.115021' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))
Rendered users/loans.html.haml within layouts/application (12.8ms)
Completed 500 Internal Server Error in 249ms

ActionView::Template::Error (no implicit conversion of nil into String):
    3:   /
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7: 
    8:     = csrf_meta_tag
    9:     = yield :head
  app/views/layouts/application.html.haml:6:in `+'
  app/views/layouts/application.html.haml:6:in `_app_views_layouts_application_html_haml___511136041002469377_70257317193220_3369739974236754594'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[36mLoan Load (0.4ms)[0m  [1mSELECT "loans".* FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL)) ORDER BY created_at DESC[0m
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.7ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.0ms)


Started GET "/borrowed" for 127.0.0.1 at 2016-03-03 22:23:56 +0100
  Processing by UsersController#borrowings as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:23:56.212343', "perishable_token" = 'NeUIo09ySiFFihpjRM', "updated_at" = '2016-03-03 21:23:56.212705' WHERE "users"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))[0m
Rendered users/borrowings.html.haml within layouts/application (20.1ms)
Completed 500 Internal Server Error in 349ms

ActionView::Template::Error (no implicit conversion of nil into String):
    3:   /
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7: 
    8:     = csrf_meta_tag
    9:     = yield :head
  app/views/layouts/application.html.haml:6:in `+'
  app/views/layouts/application.html.haml:6:in `_app_views_layouts_application_html_haml___511136041002469377_70257318756660_3369739974236754594'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[35mLoan Load (0.5ms)[0m  SELECT "loans".* FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL)) ORDER BY created_at DESC
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.0ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.1ms)


Started GET "/watchlist" for 127.0.0.1 at 2016-03-03 22:24:01 +0100
  Processing by UsersController#watched_books as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-03-03 21:24:01.689074', "perishable_token" = '0RjW0W7OaBbcedlH2GTj', "updated_at" = '2016-03-03 21:24:01.689468' WHERE "users"."id" = 1[0m
  [1m[35mWatching Load (0.1ms)[0m  SELECT "watchings".* FROM "watchings" WHERE "watchings"."user_id" = 1 ORDER BY created_at DESC
Rendered users/watched_books.html.haml within layouts/application (12.9ms)
Completed 500 Internal Server Error in 317ms

ActionView::Template::Error (no implicit conversion of nil into String):
    3:   /
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7: 
    8:     = csrf_meta_tag
    9:     = yield :head
  app/views/layouts/application.html.haml:6:in `+'
  app/views/layouts/application.html.haml:6:in `_app_views_layouts_application_html_haml___511136041002469377_70257316376480_3369739974236754594'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.4ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.4ms)


Started GET "/admin" for 127.0.0.1 at 2016-03-03 22:24:05 +0100
  Processing by AdminController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-03-03 21:24:05.723503', "perishable_token" = 'TPobddOf4xHwkmi2RbJv', "updated_at" = '2016-03-03 21:24:05.723909' WHERE "users"."id" = 1[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___511136041002469377_70257315729320_3369739974236754594 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered admin/index.html.haml within layouts/application (39.9ms)
Completed 200 OK in 278ms (Views: 44.1ms | ActiveRecord: 1.3ms)


Started GET "/admin/stats" for 127.0.0.1 at 2016-03-03 22:24:08 +0100
  Processing by AdminController#stats as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:24:08.897083', "perishable_token" = '60hKNYW2fi0XmfTztCsi', "updated_at" = '2016-03-03 21:24:08.897414' WHERE "users"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "titles"
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans"[0m
  [1m[35mLoan Load (0.3ms)[0m  SELECT "loans".* FROM "loans" WHERE "loans"."returned" IS NULL
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "watchings"[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___511136041002469377_29162760_3369739974236754594 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered admin/stats.html.haml within layouts/application (36.5ms)
Completed 200 OK in 283ms (Views: 39.5ms | ActiveRecord: 1.9ms)


Started GET "/watchlist" for 127.0.0.1 at 2016-03-03 22:24:18 +0100
  Processing by UsersController#watched_books as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:24:18.782029', "perishable_token" = 'bIJF0veJ63twdt2sx5O', "updated_at" = '2016-03-03 21:24:18.782417' WHERE "users"."id" = 1
  [1m[36mWatching Load (0.1ms)[0m  [1mSELECT "watchings".* FROM "watchings" WHERE "watchings"."user_id" = 1 ORDER BY created_at DESC[0m
Rendered users/watched_books.html.haml within layouts/application (12.5ms)
Completed 500 Internal Server Error in 193ms

ActionView::Template::Error (no implicit conversion of nil into String):
    3:   /
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7: 
    8:     = csrf_meta_tag
    9:     = yield :head
  app/views/layouts/application.html.haml:6:in `+'
  app/views/layouts/application.html.haml:6:in `_app_views_layouts_application_html_haml___511136041002469377_70257317160400_3369739974236754594'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.0ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.4ms)


Started GET "/admin/users" for 127.0.0.1 at 2016-03-03 22:24:29 +0100
  Processing by AdminController#users as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:24:29.557490', "perishable_token" = 'zilHhNMM92KhVt6cewdv', "updated_at" = '2016-03-03 21:24:29.557875' WHERE "users"."id" = 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."status" = 'admin' ORDER BY login[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."banned" = 'f' AND "users"."status" = 'user' ORDER BY login
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."banned" = 't' AND "users"."status" = 'user' ORDER BY login[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from block in _app_views_admin_users_html_haml___2413585376778211508_70257315769480_3369739974236754594 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/admin/users.html.haml:16)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___511136041002469377_70257315766500_3369739974236754594 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered admin/users.html.haml within layouts/application (54.6ms)
Completed 200 OK in 307ms (Views: 61.7ms | ActiveRecord: 1.9ms)


Started GET "/books" for 127.0.0.1 at 2016-03-03 22:25:46 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:25:46.967260', "perishable_token" = 'DNTY71XaBkoS74abCvvC', "updated_at" = '2016-03-03 21:25:46.967624' WHERE "users"."id" = 1
  [1m[36mBook Load (0.3ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___511136041002469377_29829000_3369739974236754594 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (49.1ms)
Completed 200 OK in 266ms (Views: 54.0ms | ActiveRecord: 1.4ms)


Started GET "/lent" for 127.0.0.1 at 2016-03-03 22:25:48 +0100
  Processing by UsersController#loans as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:25:49.014443', "perishable_token" = 's51VvPLvIE6EmSXw5VA', "updated_at" = '2016-03-03 21:25:49.014895' WHERE "users"."id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
Rendered users/loans.html.haml within layouts/application (21.0ms)
Completed 500 Internal Server Error in 282ms

ActionView::Template::Error (no implicit conversion of nil into String):
    3:   /
    4:     NESTA Bookshare
    5:   %head
    6:     %title= @page_title.nil? ? CONFIG[:sitename] : @page_title + " - " + CONFIG[:sitename]
    7: 
    8:     = csrf_meta_tag
    9:     = yield :head
  app/views/layouts/application.html.haml:6:in `+'
  app/views/layouts/application.html.haml:6:in `_app_views_layouts_application_html_haml___511136041002469377_70257316431800_3369739974236754594'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[35mLoan Load (0.4ms)[0m  SELECT "loans".* FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL)) ORDER BY created_at DESC
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.7ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.0ms)


Started GET "/lent" for 127.0.0.1 at 2016-03-03 22:27:46 +0100
  Processing by UsersController#loans as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-03-03 21:27:46.115140', "perishable_token" = 'MVpbGudIPf3Aa7lN9ye', "updated_at" = '2016-03-03 21:27:46.115556' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___511136041002469377_70257312125740_3369739974236754594 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))
Rendered users/loans.html.haml within layouts/application (62.7ms)
Completed 200 OK in 336ms (Views: 69.9ms | ActiveRecord: 1.7ms)


Started GET "/borrowed" for 127.0.0.1 at 2016-03-03 22:27:52 +0100
  Processing by UsersController#borrowings as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-03-03 21:27:52.903152', "perishable_token" = 'SLFugwbNmhJnTITv5Jj5', "updated_at" = '2016-03-03 21:27:52.903581' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___511136041002469377_70257318956820_3369739974236754594 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))
Rendered users/borrowings.html.haml within layouts/application (37.6ms)
Completed 200 OK in 302ms (Views: 40.3ms | ActiveRecord: 1.3ms)


Started GET "/watchlist" for 127.0.0.1 at 2016-03-03 22:27:55 +0100
  Processing by UsersController#watched_books as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-03-03 21:27:55.104478', "perishable_token" = 'FZqgICeiLotRRgMqrwI6', "updated_at" = '2016-03-03 21:27:55.104955' WHERE "users"."id" = 1[0m
  [1m[35mWatching Load (0.2ms)[0m  SELECT "watchings".* FROM "watchings" WHERE "watchings"."user_id" = 1 ORDER BY created_at DESC
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___511136041002469377_70257315963040_3369739974236754594 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))
Rendered users/watched_books.html.haml within layouts/application (48.5ms)
Completed 200 OK in 275ms (Views: 53.4ms | ActiveRecord: 1.4ms)


Started GET "/lent" for 127.0.0.1 at 2016-03-03 22:27:57 +0100
  Processing by UsersController#loans as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-03-03 21:27:57.216766', "perishable_token" = 'srYus7uX37NiKGw3rmXY', "updated_at" = '2016-03-03 21:27:57.217202' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml___511136041002469377_70257315518540_3369739974236754594 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))
Rendered users/loans.html.haml within layouts/application (35.6ms)
Completed 200 OK in 262ms (Views: 39.8ms | ActiveRecord: 1.3ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/LibreTeka-from-BookShare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-03-03 22:29:39 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.6ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.5ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-03-03 21:29:39.368311', "perishable_token" = '9C9IWfu3UaRTFhg1oM3Z', "updated_at" = '2016-03-03 21:29:39.368725' WHERE "users"."id" = 1[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1417159851264803537_19755540__141932045760044343 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered pages/home.html.haml within layouts/application (348.2ms)
Completed 200 OK in 384ms (Views: 349.8ms | ActiveRecord: 2.2ms)


Started GET "/books" for 127.0.0.1 at 2016-03-03 22:29:45 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:29:45.143072', "perishable_token" = 'KzJ8JEBSd1mMgFjU0akZ', "updated_at" = '2016-03-03 21:29:45.143481' WHERE "users"."id" = 1
  [1m[36mBook Load (0.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1417159851264803537_70083468778420__141932045760044343 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (29.3ms)
Completed 200 OK in 217ms (Views: 31.8ms | ActiveRecord: 1.4ms)


Started GET "/lent" for 127.0.0.1 at 2016-03-03 22:29:46 +0100
  Processing by UsersController#loans as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:29:46.912748', "perishable_token" = 'QDR8cvXmIiywFMsHqVc', "updated_at" = '2016-03-03 21:29:46.913138' WHERE "users"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1417159851264803537_70083474774220__141932045760044343 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered users/loans.html.haml within layouts/application (38.5ms)
Completed 200 OK in 259ms (Views: 41.3ms | ActiveRecord: 1.1ms)


Started GET "/borrowed" for 127.0.0.1 at 2016-03-03 22:29:47 +0100
  Processing by UsersController#borrowings as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:29:48.072542', "perishable_token" = 'jCA6DrVhD0r5t1eJzHF', "updated_at" = '2016-03-03 21:29:48.072928' WHERE "users"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1417159851264803537_70083468161140__141932045760044343 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered users/borrowings.html.haml within layouts/application (33.2ms)
Completed 200 OK in 265ms (Views: 36.0ms | ActiveRecord: 1.2ms)


Started GET "/members/carlos" for 127.0.0.1 at 2016-03-03 22:29:49 +0100
  Processing by MembersController#show as HTML
  Parameters: {"login"=>"carlos"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."login" = 'carlos' LIMIT 1
ERROR: compiling _app_views_members_show_html_haml___1606205131884840493_70083475132660__141932045760044343 RAISED /home/carlos/APP/LibreTeka-from-BookShare/app/views/members/show.html.haml:64: syntax error, unexpected ( arg, expecting keyword_do or '{' or '('
...thors.first.name, author_path (book.title.authors.first)
...                               ^
Function body:           def _app_views_members_show_html_haml___1606205131884840493_70083475132660__141932045760044343(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "members/show";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :attr_wrapper=>"'", :ugly=>false, :format=>:html5, :encoding=>"UTF-8", :escape_html=>true, :escape_attrs=>true});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  content_for :head do
_hamlout.push_text("#{_hamlout.format_script_false_false_false_true_false_true_false(( auto_discovery_link_tag :atom, { :controller => :members, :action => :show, :login => @user.login, :format => :atom }, { :title => "#{@user.login}'s Books on #{CONFIG[:sitename]}" }
));}\n", 0, false);end
_hamlout.push_text("<h1>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((@page_title = @user.login
));}</h1>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( image_tag @user.gravatar_image_url(80)
));}\n", 0, false);
 if current_user == @user
_hamlout.push_text("<div class='help'>\n  Add or update your picture here with\n  <a href='http://www.gravatar.com/'>Gravatar</a>\n  using your email address\n  <strong>\n    #{_hamlout.adjust_tabs(2); 





_hamlout.format_script_false_false_false_true_false_true_false(( current_user.email
));}\n  </strong>\n</div>\n", -2, false);end
_hamlout.push_text("<p>\n  #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( link_to "Send a message to #{@user.login}", :controller => :messages, :action => :new, :recipient => @user.login
));}\n</p>\n<div class='scorecard'>\n  <table>\n    <tr>\n      <td>\n        Member since\n        #{_hamlout.adjust_tabs(3); 





_hamlout.format_script_false_false_false_true_false_true_false(( @user.created_at.strftime("%B %Y")
));}\n      </td>\n    </tr>\n    <tr>\n      <td>\n        #{

_hamlout.format_script_false_false_false_true_false_true_false(( pluralize(@user.books.count, "book")
));}\n        listed\n      </td>\n    </tr>\n    <tr>\n      <td>\n        #{


_hamlout.format_script_false_false_false_true_false_true_false(( pluralize(@user.borrowings.count, "book")
));}\n        borrowed\n      </td>\n    </tr>\n    <tr>\n      <td>\n        #{


_hamlout.format_script_false_false_false_true_false_true_false(( pluralize(@user.loans.count, "book")
));}\n        lent\n      </td>\n    </tr>\n    <tr>\n      <td>\n        #{


_hamlout.format_script_false_false_false_true_false_true_false(( (pluralize(@user.active_borrowings.count, "book"))
));}\n        currently borrowed from others\n      </td>\n    </tr>\n    <tr>\n      <td>\n        #{


_hamlout.format_script_false_false_false_true_false_true_false(( (pluralize(@user.active_loans.count, "book"))
));}\n        currently lent to others\n      </td>\n    </tr>\n  </table>\n</div>\n<h2>\n  #{_hamlout.adjust_tabs(-3); 


_hamlout.format_script_false_false_false_true_false_true_false(( link_to (theme_image_tag 'rss-mono.png'),  :controller => :members, :action => :show, :login => @user.login, :format => :atom
));}\n  Books\n</h2>\n", -1, false);

 if @user.books.count > 0
_hamlout.push_text("<table>\n", 1, false);
 for book in @user.books
_hamlout.push_text("  <tr>\n    <td>\n      #{_hamlout.adjust_tabs(2); 

_hamlout.format_script_false_false_false_true_false_true_false(( link_to image_tag(book.title.image_url, :alt => book.title.title_and_author), title_path(book.title)
));}\n    </td>\n    <td>\n      <span class='book_list_title'>\n        #{_hamlout.adjust_tabs(1); 

_hamlout.format_script_false_false_false_true_false_true_false(( link_to book.title.title, title_path(book.title)
));}\n      </span>\n      <br>\n        #{
_hamlout.format_script_false_false_false_true_false_true_false(( book.title.subtitle
));}\n      </br>\n      <br>\n      <br>\n        #{

_hamlout.format_script_false_false_false_true_false_true_false(( link_to book.title.authors.first.name, author_path (book.title.authors.first)
));}\n      </br>\n    </td>\n  </tr>\n", -3, false);end
_hamlout.push_text("</table>\n", -1, false); else
_hamlout.push_text("<p>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( @user.login
));}\n  doesn't have any books to lend right now.\n</p>\n", -1, false);end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `module_eval'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `compile'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `block in render'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render'
/var/lib/gems/2.1.0/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render_with_haml'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/usr/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/home/carlos/APP/LibreTeka-from-BookShare/app/controllers/members_controller.rb:9:in `show'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:441:in `_run__2657260158508528242__process_action__3086248102976984179__callbacks'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `block in action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `block in call'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/var/lib/gems/2.1.0/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/var/lib/gems/2.1.0/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/var/lib/gems/2.1.0/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/var/lib/gems/2.1.0/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/usr/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/usr/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/usr/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
Rendered members/show.html.haml within layouts/application (12.7ms)
Completed 500 Internal Server Error in 49ms

ActionView::Template::Error (/home/carlos/APP/LibreTeka-from-BookShare/app/views/members/show.html.haml:64: syntax error, unexpected ( arg, expecting keyword_do or '{' or '('
...thors.first.name, author_path (book.title.authors.first)
...                               ^):
    61:             = book.title.subtitle
    62:           %br
    63:           %br
    64:             = link_to book.title.authors.first.name, author_path (book.title.authors.first)
    65: - else
    66:   %p
    67:     = @user.login
  app/controllers/members_controller.rb:9:in `show'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (23.6ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (28.0ms)


Started GET "/members/carlos" for 127.0.0.1 at 2016-03-03 22:29:55 +0100
  Processing by MembersController#show as HTML
  Parameters: {"login"=>"carlos"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."login" = 'carlos' LIMIT 1[0m
ERROR: compiling _app_views_members_show_html_haml___1606205131884840493_70083471245440__141932045760044343 RAISED /home/carlos/APP/LibreTeka-from-BookShare/app/views/members/show.html.haml:64: syntax error, unexpected ( arg, expecting keyword_do or '{' or '('
...thors.first.name, author_path (book.title.authors.first)
...                               ^
Function body:           def _app_views_members_show_html_haml___1606205131884840493_70083471245440__141932045760044343(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "members/show";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :attr_wrapper=>"'", :ugly=>false, :format=>:html5, :encoding=>"UTF-8", :escape_html=>true, :escape_attrs=>true});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  content_for :head do
_hamlout.push_text("#{_hamlout.format_script_false_false_false_true_false_true_false(( auto_discovery_link_tag :atom, { :controller => :members, :action => :show, :login => @user.login, :format => :atom }, { :title => "#{@user.login}'s Books on #{CONFIG[:sitename]}" }
));}\n", 0, false);end
_hamlout.push_text("<h1>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((@page_title = @user.login
));}</h1>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( image_tag @user.gravatar_image_url(80)
));}\n", 0, false);
 if current_user == @user
_hamlout.push_text("<div class='help'>\n  Add or update your picture here with\n  <a href='http://www.gravatar.com/'>Gravatar</a>\n  using your email address\n  <strong>\n    #{_hamlout.adjust_tabs(2); 





_hamlout.format_script_false_false_false_true_false_true_false(( current_user.email
));}\n  </strong>\n</div>\n", -2, false);end
_hamlout.push_text("<p>\n  #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( link_to "Send a message to #{@user.login}", :controller => :messages, :action => :new, :recipient => @user.login
));}\n</p>\n<div class='scorecard'>\n  <table>\n    <tr>\n      <td>\n        Member since\n        #{_hamlout.adjust_tabs(3); 





_hamlout.format_script_false_false_false_true_false_true_false(( @user.created_at.strftime("%B %Y")
));}\n      </td>\n    </tr>\n    <tr>\n      <td>\n        #{

_hamlout.format_script_false_false_false_true_false_true_false(( pluralize(@user.books.count, "book")
));}\n        listed\n      </td>\n    </tr>\n    <tr>\n      <td>\n        #{


_hamlout.format_script_false_false_false_true_false_true_false(( pluralize(@user.borrowings.count, "book")
));}\n        borrowed\n      </td>\n    </tr>\n    <tr>\n      <td>\n        #{


_hamlout.format_script_false_false_false_true_false_true_false(( pluralize(@user.loans.count, "book")
));}\n        lent\n      </td>\n    </tr>\n    <tr>\n      <td>\n        #{


_hamlout.format_script_false_false_false_true_false_true_false(( (pluralize(@user.active_borrowings.count, "book"))
));}\n        currently borrowed from others\n      </td>\n    </tr>\n    <tr>\n      <td>\n        #{


_hamlout.format_script_false_false_false_true_false_true_false(( (pluralize(@user.active_loans.count, "book"))
));}\n        currently lent to others\n      </td>\n    </tr>\n  </table>\n</div>\n<h2>\n  #{_hamlout.adjust_tabs(-3); 


_hamlout.format_script_false_false_false_true_false_true_false(( link_to (theme_image_tag 'rss-mono.png'),  :controller => :members, :action => :show, :login => @user.login, :format => :atom
));}\n  Books\n</h2>\n", -1, false);

 if @user.books.count > 0
_hamlout.push_text("<table>\n", 1, false);
 for book in @user.books
_hamlout.push_text("  <tr>\n    <td>\n      #{_hamlout.adjust_tabs(2); 

_hamlout.format_script_false_false_false_true_false_true_false(( link_to image_tag(book.title.image_url, :alt => book.title.title_and_author), title_path(book.title)
));}\n    </td>\n    <td>\n      <span class='book_list_title'>\n        #{_hamlout.adjust_tabs(1); 

_hamlout.format_script_false_false_false_true_false_true_false(( link_to book.title.title, title_path(book.title)
));}\n      </span>\n      <br>\n        #{
_hamlout.format_script_false_false_false_true_false_true_false(( book.title.subtitle
));}\n      </br>\n      <br>\n      <br>\n        #{

_hamlout.format_script_false_false_false_true_false_true_false(( link_to book.title.authors.first.name, author_path (book.title.authors.first)
));}\n      </br>\n    </td>\n  </tr>\n", -3, false);end
_hamlout.push_text("</table>\n", -1, false); else
_hamlout.push_text("<p>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( @user.login
));}\n  doesn't have any books to lend right now.\n</p>\n", -1, false);end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `module_eval'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `compile'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `block in render'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render'
/var/lib/gems/2.1.0/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render_with_haml'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/usr/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/home/carlos/APP/LibreTeka-from-BookShare/app/controllers/members_controller.rb:9:in `show'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:441:in `_run__2657260158508528242__process_action__3086248102976984179__callbacks'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `block in action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `block in call'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/var/lib/gems/2.1.0/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/var/lib/gems/2.1.0/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/var/lib/gems/2.1.0/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/var/lib/gems/2.1.0/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/usr/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/usr/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/usr/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
Rendered members/show.html.haml within layouts/application (5.8ms)
Completed 500 Internal Server Error in 47ms

ActionView::Template::Error (/home/carlos/APP/LibreTeka-from-BookShare/app/views/members/show.html.haml:64: syntax error, unexpected ( arg, expecting keyword_do or '{' or '('
...thors.first.name, author_path (book.title.authors.first)
...                               ^):
    61:             = book.title.subtitle
    62:           %br
    63:           %br
    64:             = link_to book.title.authors.first.name, author_path (book.title.authors.first)
    65: - else
    66:   %p
    67:     = @user.login
  app/controllers/members_controller.rb:9:in `show'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (21.4ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (26.5ms)


Started GET "/members/carlos" for 127.0.0.1 at 2016-03-03 22:30:08 +0100
  Processing by MembersController#show as HTML
  Parameters: {"login"=>"carlos"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."login" = 'carlos' LIMIT 1
ERROR: compiling _app_views_members_show_html_haml___1606205131884840493_25428820__141932045760044343 RAISED /home/carlos/APP/LibreTeka-from-BookShare/app/views/members/show.html.haml:64: syntax error, unexpected ( arg, expecting keyword_do or '{' or '('
...thors.first.name, author_path (book.title.authors.first)
...                               ^
Function body:           def _app_views_members_show_html_haml___1606205131884840493_25428820__141932045760044343(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "members/show";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :attr_wrapper=>"'", :ugly=>false, :format=>:html5, :encoding=>"UTF-8", :escape_html=>true, :escape_attrs=>true});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  content_for :head do
_hamlout.push_text("#{_hamlout.format_script_false_false_false_true_false_true_false(( auto_discovery_link_tag :atom, { :controller => :members, :action => :show, :login => @user.login, :format => :atom }, { :title => "#{@user.login}'s Books on #{CONFIG[:sitename]}" }
));}\n", 0, false);end
_hamlout.push_text("<h1>#{_hamlout.adjust_tabs(1); _hamlout.format_script_false_true_false_true_false_true_false((@page_title = @user.login
));}</h1>\n#{
_hamlout.format_script_false_false_false_true_false_true_false(( image_tag @user.gravatar_image_url(80)
));}\n", 0, false);
 if current_user == @user
_hamlout.push_text("<div class='help'>\n  Add or update your picture here with\n  <a href='http://www.gravatar.com/'>Gravatar</a>\n  using your email address\n  <strong>\n    #{_hamlout.adjust_tabs(2); 





_hamlout.format_script_false_false_false_true_false_true_false(( current_user.email
));}\n  </strong>\n</div>\n", -2, false);end
_hamlout.push_text("<p>\n  #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( link_to "Send a message to #{@user.login}", :controller => :messages, :action => :new, :recipient => @user.login
));}\n</p>\n<div class='scorecard'>\n  <table>\n    <tr>\n      <td>\n        Member since\n        #{_hamlout.adjust_tabs(3); 





_hamlout.format_script_false_false_false_true_false_true_false(( @user.created_at.strftime("%B %Y")
));}\n      </td>\n    </tr>\n    <tr>\n      <td>\n        #{

_hamlout.format_script_false_false_false_true_false_true_false(( pluralize(@user.books.count, "book")
));}\n        listed\n      </td>\n    </tr>\n    <tr>\n      <td>\n        #{


_hamlout.format_script_false_false_false_true_false_true_false(( pluralize(@user.borrowings.count, "book")
));}\n        borrowed\n      </td>\n    </tr>\n    <tr>\n      <td>\n        #{


_hamlout.format_script_false_false_false_true_false_true_false(( pluralize(@user.loans.count, "book")
));}\n        lent\n      </td>\n    </tr>\n    <tr>\n      <td>\n        #{


_hamlout.format_script_false_false_false_true_false_true_false(( (pluralize(@user.active_borrowings.count, "book"))
));}\n        currently borrowed from others\n      </td>\n    </tr>\n    <tr>\n      <td>\n        #{


_hamlout.format_script_false_false_false_true_false_true_false(( (pluralize(@user.active_loans.count, "book"))
));}\n        currently lent to others\n      </td>\n    </tr>\n  </table>\n</div>\n<h2>\n  #{_hamlout.adjust_tabs(-3); 


_hamlout.format_script_false_false_false_true_false_true_false(( link_to (theme_image_tag 'rss-mono.png'),  :controller => :members, :action => :show, :login => @user.login, :format => :atom
));}\n  Books\n</h2>\n", -1, false);

 if @user.books.count > 0
_hamlout.push_text("<table>\n", 1, false);
 for book in @user.books
_hamlout.push_text("  <tr>\n    <td>\n      #{_hamlout.adjust_tabs(2); 

_hamlout.format_script_false_false_false_true_false_true_false(( link_to image_tag(book.title.image_url, :alt => book.title.title_and_author), title_path(book.title)
));}\n    </td>\n    <td>\n      <span class='book_list_title'>\n        #{_hamlout.adjust_tabs(1); 

_hamlout.format_script_false_false_false_true_false_true_false(( link_to book.title.title, title_path(book.title)
));}\n      </span>\n      <br>\n        #{
_hamlout.format_script_false_false_false_true_false_true_false(( book.title.subtitle
));}\n      </br>\n      <br>\n      <br>\n        #{

_hamlout.format_script_false_false_false_true_false_true_false(( link_to book.title.authors.first.name, author_path (book.title.authors.first)
));}\n      </br>\n    </td>\n  </tr>\n", -3, false);end
_hamlout.push_text("</table>\n", -1, false); else
_hamlout.push_text("<p>\n  #{_hamlout.adjust_tabs(1); _hamlout.format_script_false_false_false_true_false_true_false(( @user.login
));}\n  doesn't have any books to lend right now.\n</p>\n", -1, false);end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `module_eval'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `compile'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `block in render'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render'
/var/lib/gems/2.1.0/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render_with_haml'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/usr/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/home/carlos/APP/LibreTeka-from-BookShare/app/controllers/members_controller.rb:9:in `show'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:441:in `_run__2657260158508528242__process_action__3086248102976984179__callbacks'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `block in action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `block in call'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/var/lib/gems/2.1.0/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/var/lib/gems/2.1.0/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/var/lib/gems/2.1.0/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/var/lib/gems/2.1.0/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/usr/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/usr/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/usr/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
Rendered members/show.html.haml within layouts/application (12.1ms)
Completed 500 Internal Server Error in 51ms

ActionView::Template::Error (/home/carlos/APP/LibreTeka-from-BookShare/app/views/members/show.html.haml:64: syntax error, unexpected ( arg, expecting keyword_do or '{' or '('
...thors.first.name, author_path (book.title.authors.first)
...                               ^):
    61:             = book.title.subtitle
    62:           %br
    63:           %br
    64:             = link_to book.title.authors.first.name, author_path (book.title.authors.first)
    65: - else
    66:   %p
    67:     = @user.login
  app/controllers/members_controller.rb:9:in `show'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (21.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (25.4ms)


Started GET "/members/carlos" for 127.0.0.1 at 2016-03-03 22:31:59 +0100
  Processing by MembersController#show as HTML
  Parameters: {"login"=>"carlos"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."login" = 'carlos' LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:31:59.782752', "perishable_token" = '0aljuS73lvUUEz1W6Z5j', "updated_at" = '2016-03-03 21:31:59.783104' WHERE "users"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1)[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
Rendered members/show.html.haml within layouts/application (178.3ms)
Completed 500 Internal Server Error in 236ms

ActionView::Template::Error (undefined method `base_theme_image_path' for #<#<Class:0x007f7b28d5b3a8>:0x007f7b28d5a3e0>):
    45:         currently lent to others
    46: 
    47: %h2
    48:   = link_to (theme_image_tag 'rss-mono.png'),  :controller => :members, :action => :show, :login => @user.login, :format => :atom
    49:   Books
    50: 
    51: - if @user.books.count > 0
  app/views/members/show.html.haml:48:in `_app_views_members_show_html_haml___1606205131884840493_70083471394980__141932045760044343'
  app/controllers/members_controller.rb:9:in `show'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.6ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (35.6ms)


Started GET "/members/carlos" for 127.0.0.1 at 2016-03-03 22:33:32 +0100
  Processing by MembersController#show as HTML
  Parameters: {"login"=>"carlos"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."login" = 'carlos' LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-03-03 21:33:32.332028', "perishable_token" = 'HWPbbue90MOFiaY5c7t', "updated_at" = '2016-03-03 21:33:32.332454' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1)[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1417159851264803537_70083472269540__141932045760044343 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered members/show.html.haml within layouts/application (233.2ms)
Completed 200 OK in 273ms (Views: 235.3ms | ActiveRecord: 1.6ms)


Started GET "/messages/new?recipient=carlos" for 127.0.0.1 at 2016-03-03 22:35:15 +0100
  Processing by MessagesController#new as HTML
  Parameters: {"recipient"=>"carlos"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:35:15.688112', "perishable_token" = 'ix6cvbVNiPGwQSjV8vr', "updated_at" = '2016-03-03 21:35:15.688453' WHERE "users"."id" = 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."login" = 'carlos' LIMIT 1[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1417159851264803537_70083468929940__141932045760044343 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered messages/new.html.haml within layouts/application (34.1ms)
Completed 200 OK in 262ms (Views: 37.6ms | ActiveRecord: 1.4ms)


Started GET "/books" for 127.0.0.1 at 2016-03-03 22:35:36 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:35:36.879034', "perishable_token" = 'ffwSdxb4dZp1oJ9ayQ', "updated_at" = '2016-03-03 21:35:36.879477' WHERE "users"."id" = 1
  [1m[36mBook Load (0.2ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1417159851264803537_40688060__141932045760044343 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (42.9ms)
Completed 200 OK in 293ms (Views: 47.9ms | ActiveRecord: 1.4ms)


Started POST "/books" for 127.0.0.1 at 2016-03-03 22:36:22 +0100
  Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "isbn13"=>"9788492724291"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.5ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:36:22.193893', "perishable_token" = 'tNpMqvEO9Yhs9qjffqc', "updated_at" = '2016-03-03 21:36:22.194267' WHERE "users"."id" = 1
  [1m[36mTitle Load (0.1ms)[0m  [1mSELECT "titles".* FROM "titles" WHERE "titles"."isbn13" = '9788492724291' LIMIT 1[0m
Redirected to http://localhost:3000/books
Completed 302 Found in 889ms


Started GET "/books" for 127.0.0.1 at 2016-03-03 22:36:23 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:36:23.149317', "perishable_token" = 'QxHPw9m9mRzh1tfnEwtG', "updated_at" = '2016-03-03 21:36:23.149770' WHERE "users"."id" = 1
  [1m[36mBook Load (0.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1417159851264803537_70083468825960__141932045760044343 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (33.2ms)
Completed 200 OK in 279ms (Views: 36.2ms | ActiveRecord: 2.4ms)


Started POST "/books" for 127.0.0.1 at 2016-03-03 22:39:10 +0100
  Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "isbn13"=>"9788492724291"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:39:10.084745', "perishable_token" = 'DeFPNXKa8dO7EP9S8s9', "updated_at" = '2016-03-03 21:39:10.085181' WHERE "users"."id" = 1
  [1m[36mTitle Load (0.1ms)[0m  [1mSELECT "titles".* FROM "titles" WHERE "titles"."isbn13" = '9788492724291' LIMIT 1[0m
Redirected to http://localhost:3000/books
Completed 302 Found in 1241ms


Started GET "/books" for 127.0.0.1 at 2016-03-03 22:39:11 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:39:11.378086', "perishable_token" = '78RGdCXlb5UsZcCVFoI', "updated_at" = '2016-03-03 21:39:11.378495' WHERE "users"."id" = 1
  [1m[36mBook Load (0.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1417159851264803537_70083470949520__141932045760044343 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (33.5ms)
Completed 200 OK in 359ms (Views: 36.2ms | ActiveRecord: 2.2ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/LibreTeka-from-BookShare/config/environment.rb:5)


Started POST "/books" for 127.0.0.1 at 2016-03-03 22:39:47 +0100
  Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "isbn13"=>"9788492724291"}
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:39:48.118469', "perishable_token" = 'c1aYugILuOrJCqk0vh8p', "updated_at" = '2016-03-03 21:39:48.118859' WHERE "users"."id" = 1
  [1m[36mTitle Load (0.2ms)[0m  [1mSELECT "titles".* FROM "titles" WHERE "titles"."isbn13" = '9788492724291' LIMIT 1[0m
Redirected to http://localhost:3000/books
Completed 302 Found in 680ms


Started GET "/books" for 127.0.0.1 at 2016-03-03 22:39:48 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:39:48.780205', "perishable_token" = 'USzDAkDKmVv7NEXAHIw', "updated_at" = '2016-03-03 21:39:48.780694' WHERE "users"."id" = 1
  [1m[36mBook Load (0.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__3667063255792385464_70200677573000_2001129360924819627 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (31.0ms)
Completed 200 OK in 251ms (Views: 34.0ms | ActiveRecord: 2.3ms)


Started POST "/books" for 127.0.0.1 at 2016-03-03 22:41:03 +0100
  Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "isbn13"=>""}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:41:03.232082', "perishable_token" = 'Ljk1ckyezYKbTEIc9wK', "updated_at" = '2016-03-03 21:41:03.232483' WHERE "users"."id" = 1
  [1m[36mTitle Load (0.2ms)[0m  [1mSELECT "titles".* FROM "titles" WHERE "titles"."isbn13" = '' LIMIT 1[0m
Redirected to http://localhost:3000/books
Completed 302 Found in 1181ms


Started GET "/books" for 127.0.0.1 at 2016-03-03 22:41:04 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:41:04.451738', "perishable_token" = 'lVZuqc35WTLZ5jOefsOA', "updated_at" = '2016-03-03 21:41:04.452123' WHERE "users"."id" = 1
  [1m[36mBook Load (0.2ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__3667063255792385464_30708000_2001129360924819627 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (33.8ms)
Completed 200 OK in 296ms (Views: 38.8ms | ActiveRecord: 2.2ms)


Started GET "/books" for 127.0.0.1 at 2016-03-03 22:46:05 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:46:05.433549', "perishable_token" = 'w6dNOxoEurhwi4IZ9Qa', "updated_at" = '2016-03-03 21:46:05.433944' WHERE "users"."id" = 1
  [1m[36mBook Load (0.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__3667063255792385464_70200679879440_2001129360924819627 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (42.5ms)
Completed 200 OK in 282ms (Views: 45.9ms | ActiveRecord: 1.6ms)


Started POST "/books" for 127.0.0.1 at 2016-03-03 22:47:30 +0100
  Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "isbn13"=>"9788492724291"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:47:30.980227', "perishable_token" = 'Eq0xIQMtZKtODNMVsQdN', "updated_at" = '2016-03-03 21:47:30.980639' WHERE "users"."id" = 1
  [1m[36mTitle Load (0.6ms)[0m  [1mSELECT "titles".* FROM "titles" WHERE "titles"."isbn13" = '9788492724291' LIMIT 1[0m
  [1m[35mAuthor Load (0.2ms)[0m  SELECT * FROM "authors" INNER JOIN "authors_titles" ON "authors".id = "authors_titles".author_id WHERE ("authors_titles".title_id = 1 )
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "books" ("title_id", "user_id", "created_at", "updated_at", "status") VALUES (1, 1, '2016-03-03 21:47:31.247918', '2016-03-03 21:47:31.247918', 0)[0m
Redirected to http://localhost:3000/books
Completed 302 Found in 388ms


Started GET "/books" for 127.0.0.1 at 2016-03-03 22:47:31 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:47:31.411785', "perishable_token" = 'IV1fvJ6lsBUjuND18Tfw', "updated_at" = '2016-03-03 21:47:31.412178' WHERE "users"."id" = 1
  [1m[36mBook Load (0.2ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
  [1m[35mTitle Load (0.7ms)[0m  SELECT "titles".* FROM "titles" WHERE "titles"."id" = 1 LIMIT 1
  [1m[36mAuthor Load (0.1ms)[0m  [1mSELECT * FROM "authors" INNER JOIN "authors_titles" ON "authors".id = "authors_titles".author_id WHERE ("authors_titles".title_id = 1 ) LIMIT 1[0m
Rendered books/index.html.haml within layouts/application (29.1ms)
Completed 500 Internal Server Error in 192ms

ActionView::Template::Error (undefined method `name' for nil:NilClass):
    24:   
    25:     - for book in @books
    26:       %tr
    27:         %td= link_to(image_tag(book.title.image_url, :height => 80, :alt => book.title.title_and_author), book.title)
    28:         %td
    29:           %span.book_list_title
    30:             = link_to book.title.title, book.title
  app/models/title.rb:28:in `title_and_author'
  app/views/books/index.html.haml:27:in `block in _app_views_books_index_html_haml___238562528202688529_70200677196240_2001129360924819627'
  app/views/books/index.html.haml:25:in `each'
  app/views/books/index.html.haml:25:in `_app_views_books_index_html_haml___238562528202688529_70200677196240_2001129360924819627'
  app/controllers/books_controller.rb:9:in `index'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.8ms)


Started GET "/books" for 127.0.0.1 at 2016-03-03 22:49:12 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:49:12.128422', "perishable_token" = 'F57TJDHG9xAgYix1aPrY', "updated_at" = '2016-03-03 21:49:12.128795' WHERE "users"."id" = 1
  [1m[36mBook Load (0.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
  [1m[35mTitle Load (0.7ms)[0m  SELECT "titles".* FROM "titles" WHERE "titles"."id" = 1 LIMIT 1
  [1m[36mAuthor Load (0.1ms)[0m  [1mSELECT * FROM "authors" INNER JOIN "authors_titles" ON "authors".id = "authors_titles".author_id WHERE ("authors_titles".title_id = 1 ) LIMIT 1[0m
Rendered books/index.html.haml within layouts/application (28.1ms)
Completed 500 Internal Server Error in 263ms

ActionView::Template::Error (undefined method `name' for nil:NilClass):
    24:   
    25:     - for book in @books
    26:       %tr
    27:         %td= link_to(image_tag(book.title.image_url, :height => 80, :alt => book.title.title_and_author), book.title)
    28:         %td
    29:           %span.book_list_title
    30:             = link_to book.title.title, book.title
  app/models/title.rb:28:in `title_and_author'
  app/views/books/index.html.haml:27:in `block in _app_views_books_index_html_haml___238562528202688529_70200673947020_2001129360924819627'
  app/views/books/index.html.haml:25:in `each'
  app/views/books/index.html.haml:25:in `_app_views_books_index_html_haml___238562528202688529_70200673947020_2001129360924819627'
  app/controllers/books_controller.rb:9:in `index'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.5ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.7ms)


Started GET "/books" for 127.0.0.1 at 2016-03-03 22:49:15 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:49:15.726427', "perishable_token" = 'oL4pwmfXhbw5459pyQSu', "updated_at" = '2016-03-03 21:49:15.726792' WHERE "users"."id" = 1
  [1m[36mBook Load (0.2ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
  [1m[35mTitle Load (0.7ms)[0m  SELECT "titles".* FROM "titles" WHERE "titles"."id" = 1 LIMIT 1
  [1m[36mAuthor Load (0.2ms)[0m  [1mSELECT * FROM "authors" INNER JOIN "authors_titles" ON "authors".id = "authors_titles".author_id WHERE ("authors_titles".title_id = 1 ) LIMIT 1[0m
Rendered books/index.html.haml within layouts/application (29.9ms)
Completed 500 Internal Server Error in 240ms

ActionView::Template::Error (undefined method `name' for nil:NilClass):
    24:   
    25:     - for book in @books
    26:       %tr
    27:         %td= link_to(image_tag(book.title.image_url, :height => 80, :alt => book.title.title_and_author), book.title)
    28:         %td
    29:           %span.book_list_title
    30:             = link_to book.title.title, book.title
  app/models/title.rb:28:in `title_and_author'
  app/views/books/index.html.haml:27:in `block in _app_views_books_index_html_haml___238562528202688529_30354640_2001129360924819627'
  app/views/books/index.html.haml:25:in `each'
  app/views/books/index.html.haml:25:in `_app_views_books_index_html_haml___238562528202688529_30354640_2001129360924819627'
  app/controllers/books_controller.rb:9:in `index'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.5ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.4ms)


Started GET "/books" for 127.0.0.1 at 2016-03-03 22:49:16 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:49:17.049654', "perishable_token" = 'lu475fUkXqGXdRm2QOJV', "updated_at" = '2016-03-03 21:49:17.050195' WHERE "users"."id" = 1
  [1m[36mBook Load (0.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
  [1m[35mTitle Load (0.9ms)[0m  SELECT "titles".* FROM "titles" WHERE "titles"."id" = 1 LIMIT 1
  [1m[36mAuthor Load (0.1ms)[0m  [1mSELECT * FROM "authors" INNER JOIN "authors_titles" ON "authors".id = "authors_titles".author_id WHERE ("authors_titles".title_id = 1 ) LIMIT 1[0m
Rendered books/index.html.haml within layouts/application (30.2ms)
Completed 500 Internal Server Error in 254ms

ActionView::Template::Error (undefined method `name' for nil:NilClass):
    24:   
    25:     - for book in @books
    26:       %tr
    27:         %td= link_to(image_tag(book.title.image_url, :height => 80, :alt => book.title.title_and_author), book.title)
    28:         %td
    29:           %span.book_list_title
    30:             = link_to book.title.title, book.title
  app/models/title.rb:28:in `title_and_author'
  app/views/books/index.html.haml:27:in `block in _app_views_books_index_html_haml___238562528202688529_70200675865960_2001129360924819627'
  app/views/books/index.html.haml:25:in `each'
  app/views/books/index.html.haml:25:in `_app_views_books_index_html_haml___238562528202688529_70200675865960_2001129360924819627'
  app/controllers/books_controller.rb:9:in `index'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.5ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.2ms)


Started POST "/books" for 127.0.0.1 at 2016-03-03 22:50:09 +0100
  Processing by BooksController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O/1GUG0y4MbLDZXfyd0JSecwNQ1kxQTorOS6QC7ieI0=", "isbn13"=>"9788492724291"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.5ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:50:09.357691', "perishable_token" = '91bThkeZU1itqYWyJ4Z', "updated_at" = '2016-03-03 21:50:09.358081' WHERE "users"."id" = 1
  [1m[36mTitle Load (0.6ms)[0m  [1mSELECT "titles".* FROM "titles" WHERE "titles"."isbn13" = '9788492724291' LIMIT 1[0m
  [1m[35mAuthor Load (0.2ms)[0m  SELECT * FROM "authors" INNER JOIN "authors_titles" ON "authors".id = "authors_titles".author_id WHERE ("authors_titles".title_id = 1 )
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "books" ("title_id", "user_id", "created_at", "updated_at", "status") VALUES (1, 1, '2016-03-03 21:50:09.507836', '2016-03-03 21:50:09.507836', 0)[0m
Redirected to http://localhost:3000/books
Completed 302 Found in 323ms


Started GET "/books" for 127.0.0.1 at 2016-03-03 22:50:09 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:50:09.698121', "perishable_token" = '9ujC9zxQpbmdNCLPGn1p', "updated_at" = '2016-03-03 21:50:09.698603' WHERE "users"."id" = 1
  [1m[36mBook Load (0.3ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
  [1m[35mTitle Load (1.2ms)[0m  SELECT "titles".* FROM "titles" WHERE "titles"."id" = 1 LIMIT 1
  [1m[36mAuthor Load (0.2ms)[0m  [1mSELECT * FROM "authors" INNER JOIN "authors_titles" ON "authors".id = "authors_titles".author_id WHERE ("authors_titles".title_id = 1 ) LIMIT 1[0m
Rendered books/index.html.haml within layouts/application (60.8ms)
Completed 500 Internal Server Error in 237ms

ActionView::Template::Error (undefined method `name' for nil:NilClass):
    24:   
    25:     - for book in @books
    26:       %tr
    27:         %td= link_to(image_tag(book.title.image_url, :height => 80, :alt => book.title.title_and_author), book.title)
    28:         %td
    29:           %span.book_list_title
    30:             = link_to book.title.title, book.title
  app/models/title.rb:28:in `title_and_author'
  app/views/books/index.html.haml:27:in `block in _app_views_books_index_html_haml___238562528202688529_19084320_2001129360924819627'
  app/views/books/index.html.haml:25:in `each'
  app/views/books/index.html.haml:25:in `_app_views_books_index_html_haml___238562528202688529_19084320_2001129360924819627'
  app/controllers/books_controller.rb:9:in `index'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.5ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.4ms)


Started GET "/books" for 127.0.0.1 at 2016-03-03 22:53:24 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:53:24.950117', "perishable_token" = 'S7rV2Kg8ACiwhr6n9EU', "updated_at" = '2016-03-03 21:53:24.950547' WHERE "users"."id" = 1
  [1m[36mBook Load (0.3ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
  [1m[35mTitle Load (0.9ms)[0m  SELECT "titles".* FROM "titles" WHERE "titles"."id" = 1 LIMIT 1
  [1m[36mAuthor Load (0.2ms)[0m  [1mSELECT * FROM "authors" INNER JOIN "authors_titles" ON "authors".id = "authors_titles".author_id WHERE ("authors_titles".title_id = 1 ) LIMIT 1[0m
Rendered books/index.html.haml within layouts/application (37.7ms)
Completed 500 Internal Server Error in 281ms

ActionView::Template::Error (undefined method `name' for nil:NilClass):
    32:           = book.title.subtitle
    33:           %br
    34:           %br
    35:           = link_to book.title.authors.first.name, author_path(book.title.authors.first)
    36:         %td
    37:           - if book.status == StaticData::BOOK_STATUS['AVAILABLE']
    38:             = link_to "Lend", new_loan_path(:book_id => book)
  app/views/books/index.html.haml:35:in `block in _app_views_books_index_html_haml___238562528202688529_29297220_2001129360924819627'
  app/views/books/index.html.haml:25:in `each'
  app/views/books/index.html.haml:25:in `_app_views_books_index_html_haml___238562528202688529_29297220_2001129360924819627'
  app/controllers/books_controller.rb:9:in `index'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.5ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (38.2ms)


Started GET "/books" for 127.0.0.1 at 2016-03-03 22:53:44 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:53:44.826746', "perishable_token" = 'FhsXCn24iBK1ATllyqK', "updated_at" = '2016-03-03 21:53:44.827114' WHERE "users"."id" = 1
  [1m[36mBook Load (0.2ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
Rendered books/index.html.haml within layouts/application (1.5ms)
Completed 500 Internal Server Error in 240ms

ActionView::Template::Error (Illegal element: classes and ids must have values.):
    24:   
    25:     - for book in @books
    26:       %tr
    27:         #%td= link_to(image_tag(book.title.image_url, :height => 80, :alt => book.title.title_and_author), book.title)
    28:         %td
    29:           %span.book_list_title
    30:             = link_to book.title.title, book.title
  app/views/books/index.html.haml:27
  app/controllers/books_controller.rb:9:in `index'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.9ms)


Started GET "/books" for 127.0.0.1 at 2016-03-03 22:54:38 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:54:38.791208', "perishable_token" = 'AKrZZHXE1sorPOwqs25a', "updated_at" = '2016-03-03 21:54:38.791671' WHERE "users"."id" = 1
  [1m[36mBook Load (0.2ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
  [1m[35mTitle Load (0.9ms)[0m  SELECT "titles".* FROM "titles" WHERE "titles"."id" = 1 LIMIT 1
Rendered books/index.html.haml within layouts/application (31.9ms)
Completed 500 Internal Server Error in 321ms

ActionView::Template::Error (no implicit conversion of nil into String):
    24:   
    25:     - for book in @books
    26:       %tr
    27:         %td= link_to(image_tag(book.title.image_url, :height => 80), book.title)
    28:         %td
    29:           %span.book_list_title
    30:             = link_to book.title.title, book.title
  app/views/books/index.html.haml:27:in `block in _app_views_books_index_html_haml___238562528202688529_14947260_2001129360924819627'
  app/views/books/index.html.haml:25:in `each'
  app/views/books/index.html.haml:25:in `_app_views_books_index_html_haml___238562528202688529_14947260_2001129360924819627'
  app/controllers/books_controller.rb:9:in `index'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.9ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.2ms)


Started GET "/books" for 127.0.0.1 at 2016-03-03 22:55:11 +0100
  Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.5ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-03-03 21:55:11.742894', "perishable_token" = 'YxmwJCixpsQH76jmH3', "updated_at" = '2016-03-03 21:55:11.743359' WHERE "users"."id" = 1[0m
  [1m[35mBook Load (0.3ms)[0m  SELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC
  [1m[36mTitle Load (1.2ms)[0m  [1mSELECT "titles".* FROM "titles" WHERE "titles"."id" = 1 LIMIT 1[0m
  [1m[35mAuthor Load (0.2ms)[0m  SELECT * FROM "authors" INNER JOIN "authors_titles" ON "authors".id = "authors_titles".author_id WHERE ("authors_titles".title_id = 1 ) LIMIT 1
Rendered books/index.html.haml within layouts/application (51.0ms)
Completed 500 Internal Server Error in 306ms

ActionView::Template::Error (undefined method `name' for nil:NilClass):
    32:           = book.title.subtitle
    33:           %br
    34:           %br
    35:           = link_to book.title.authors.first.name, author_path(book.title.authors.first)
    36:         %td
    37:           - if book.status == StaticData::BOOK_STATUS['AVAILABLE']
    38:             = link_to "Lend", new_loan_path(:book_id => book)
  app/views/books/index.html.haml:35:in `block in _app_views_books_index_html_haml___238562528202688529_70200675225440_2001129360924819627'
  app/views/books/index.html.haml:25:in `each'
  app/views/books/index.html.haml:25:in `_app_views_books_index_html_haml___238562528202688529_70200675225440_2001129360924819627'
  app/controllers/books_controller.rb:9:in `index'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.7ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.9ms)


Started GET "/books" for 127.0.0.1 at 2016-03-03 22:55:44 +0100
  Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-03-03 21:55:44.107147', "perishable_token" = '70dYqcl9uGVCuUqaA6ld', "updated_at" = '2016-03-03 21:55:44.107566' WHERE "users"."id" = 1[0m
  [1m[35mBook Load (0.3ms)[0m  SELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC
  [1m[36mTitle Load (0.8ms)[0m  [1mSELECT "titles".* FROM "titles" WHERE "titles"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "titles".* FROM "titles" WHERE "titles"."id" = 1 LIMIT 1
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__3667063255792385464_70200680160640_2001129360924819627 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))
Rendered books/index.html.haml within layouts/application (61.1ms)
Completed 200 OK in 251ms (Views: 66.1ms | ActiveRecord: 2.4ms)


Started GET "/" for 127.0.0.1 at 2016-03-03 22:55:58 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.5ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:55:58.357153', "perishable_token" = 'oywFTPVANR2veeiOfzL', "updated_at" = '2016-03-03 21:55:58.357616' WHERE "users"."id" = 1
  [1m[36mTitle Load (0.8ms)[0m  [1mSELECT "titles".* FROM "titles" WHERE "titles"."id" = 1 LIMIT 1[0m
  [1m[35mAuthor Load (0.3ms)[0m  SELECT * FROM "authors" INNER JOIN "authors_titles" ON "authors".id = "authors_titles".author_id WHERE ("authors_titles".title_id = 1 ) LIMIT 1
Rendered pages/home.html.haml within layouts/application (289.7ms)
Completed 500 Internal Server Error in 302ms

ActionView::Template::Error (undefined method `name' for nil:NilClass):
    24:       - title = book.title
    25:       - i += 1
    26:       %td
    27:         = link_to (image_tag title.image_url, :height => 80, :alt => title.title_and_author), title
    28:       - if i % 10 == 0
    29:         %tr
  app/models/title.rb:28:in `title_and_author'
  app/views/pages/home.html.haml:27:in `block in _app_views_pages_home_html_haml___3191374687342186904_70200673911060_2001129360924819627'
  app/views/pages/home.html.haml:23:in `each'
  app/views/pages/home.html.haml:23:in `_app_views_pages_home_html_haml___3191374687342186904_70200673911060_2001129360924819627'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.5ms)


Started GET "/books/1" for 127.0.0.1 at 2016-03-03 22:56:09 +0100
  Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 12ms

ActionView::MissingTemplate (Missing template books/show with {:handlers=>[:erb, :rjs, :builder, :rhtml, :rxml, :haml], :formats=>[:html], :locale=>[:en, :en]} in view paths "/home/carlos/APP/LibreTeka-from-BookShare/app/views", "/home/carlos/APP/LibreTeka-from-BookShare/vendor/plugins/isbn_validation/app/views"):
  app/controllers/books_controller.rb:21:in `show'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (2.3ms)


Started GET "/books/1" for 127.0.0.1 at 2016-03-03 22:56:21 +0100
  Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mBook Load (0.1ms)[0m  SELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1
Completed 500 Internal Server Error in 12ms

ActionView::MissingTemplate (Missing template books/show with {:handlers=>[:erb, :rjs, :builder, :rhtml, :rxml, :haml], :formats=>[:html], :locale=>[:en, :en]} in view paths "/home/carlos/APP/LibreTeka-from-BookShare/app/views", "/home/carlos/APP/LibreTeka-from-BookShare/vendor/plugins/isbn_validation/app/views"):
  app/controllers/books_controller.rb:21:in `show'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (1.3ms)


Started GET "/loans/new?book_id=1" for 127.0.0.1 at 2016-03-03 22:56:25 +0100
  Processing by LoansController#new as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-03-03 21:56:25.264448', "perishable_token" = 'sWfFPAnAve3fKKu8F9N', "updated_at" = '2016-03-03 21:56:25.264991' WHERE "users"."id" = 1[0m
  [1m[35mBook Load (0.2ms)[0m  SELECT "books".* FROM "books" WHERE "books"."id" = 1 AND ("books".user_id = 1) LIMIT 1
ERROR: compiling _app_views_loans_new_html_haml__1364898865830648194_70200673489440_2001129360924819627 RAISED /home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:4: syntax error, unexpected ',', expecting ')'
...itle.image_url, :height => 80), title_path(@loan.book.title))
...                               ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:5: syntax error, unexpected ')', expecting tSTRING_DEND
));}\n</span>\n<div style='marg...
  ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:9: unknown regexp option - h
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:9: syntax error, unexpected tINTEGER, expecting tSTRING_DEND
));}\n  </h2>\n  <p>#{
            ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:11: syntax error, unexpected '}', expecting tSTRING_DEND
));}</p>\n  <p>\n", 1, false);
    ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:17: unknown regexp option - p
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:17: syntax error, unexpected $undefined
_hamlout.push_text("  </p>\n</div>\n", -2, false);haml_t...
                           ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:23: unknown regexp option - p
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:23: syntax error, unexpected $undefined
));}\n</p>\n#{_hamlout.adjust_tabs(-1); 
           ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:25: syntax error, unexpected '}', expecting tSTRING_DEND
));}\n", 0, false);end
    ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:26: syntax error, unexpected $undefined, expecting tSTRING_DEND
...aml_temp);_hamlout.push_text("\n<div class='help'>\n  #{_ham...
...                               ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:26: syntax error, unexpected keyword_class, expecting keyword_do or '{' or '('
...hamlout.push_text("\n<div class='help'>\n  #{_hamlout.adjust...
...                               ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:26: syntax error, unexpected $undefined
...ush_text("\n<div class='help'>\n  #{_hamlout.adjust_tabs(1); 
...                               ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:28: syntax error, unexpected '}', expecting tSTRING_DEND
));}\n  keeps track of how long a...
    ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:28: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...s stayed out on loan for but it doesn't use due dates, fixed...
...                               ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:28: syntax error, unexpected tIDENTIFIER, expecting tSTRING_DEND
...oan periods or renewals. You're free to agree and renegotiat...
...                               ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:28: syntax error, unexpected $undefined
...rrower at any time. This keeps\n  #{
...                               ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:30: syntax error, unexpected '}', expecting tSTRING_DEND
));}\n  friendly and flexible.\n<...
    ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:30: syntax error, unexpected $undefined, expecting '('
...));}\n  friendly and flexible.\n</div>\n", -1, false);::Haml...
...                               ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:30: unterminated regexp meets end of file
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:30: syntax error, unexpected end-of-input, expecting tSTRING_DEND
Function body:           def _app_views_loans_new_html_haml__1364898865830648194_70200673489440_2001129360924819627(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "loans/new";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :attr_wrapper=>"'", :ugly=>false, :format=>:html5, :encoding=>"UTF-8", :escape_html=>true, :escape_attrs=>true});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.push_text("<h1>Lend a Book</h1>\n<span style='float: left;'>\n  #{_hamlout.adjust_tabs(1); 


_hamlout.format_script_false_false_false_true_false_true_false(( link_to (image_tag(@loan.book.title.image_url, :height => 80), title_path(@loan.book.title))
));}\n</span>\n<div style='margin-left: 100px;'>\n  <h2>\n    #{_hamlout.adjust_tabs(1); 


_hamlout.format_script_false_false_false_true_false_true_false(( link_to @loan.book.title.title, title_path(@loan.book.title)
));}\n  </h2>\n  <p>#{
_hamlout.format_script_false_true_false_true_false_true_false((@loan.book.title.subtitle
));}</p>\n  <p>\n", 1, false);

 for author in @loan.book.title.authors
_hamlout.push_text("    <br>\n    #{
_hamlout.format_script_false_false_false_true_false_true_false(( link_to author.name, author_path(author)
));}\n", 0, false);end
_hamlout.push_text("  </p>\n</div>\n", -2, false);haml_temp =  form_for @loan do |f|
_hamlout.push_text("#{_hamlout.format_script_false_false_false_true_false_true_false(( hidden_field_tag :book_id, @loan.book.id
));}\n<p>\n  Borrower username:\n  <br>\n  #{_hamlout.adjust_tabs(1); 


_hamlout.format_script_false_false_false_true_false_true_false(( text_field_tag :borrower_login, @borrower_login
));}\n</p>\n#{_hamlout.adjust_tabs(-1); 
_hamlout.format_script_false_false_false_true_false_true_false(( f.submit "Lend Book"
));}\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n<div class='help'>\n  #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( CONFIG[:sitename]
));}\n  keeps track of how long a book has stayed out on loan for but it doesn't use due dates, fixed loan periods or renewals. You're free to agree and renegotiate the loan period informally with the borrower at any time. This keeps\n  #{
_hamlout.format_script_false_false_false_true_false_true_false(( CONFIG[:sitename]
));}\n  friendly and flexible.\n</div>\n", -1, false);::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `module_eval'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `compile'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `block in render'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render'
/var/lib/gems/2.1.0/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render_with_haml'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/usr/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:446:in `_run__188229151086228572__process_action__4276609070358312857__callbacks'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `block in action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `block in call'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/var/lib/gems/2.1.0/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/var/lib/gems/2.1.0/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/var/lib/gems/2.1.0/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/var/lib/gems/2.1.0/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/usr/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/usr/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/usr/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
Rendered loans/new.html.haml within layouts/application (4.0ms)
Completed 500 Internal Server Error in 209ms

ActionView::Template::Error (/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:4: syntax error, unexpected ',', expecting ')'
...itle.image_url, :height => 80), title_path(@loan.book.title))
...                               ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:5: syntax error, unexpected ')', expecting tSTRING_DEND
));}\n</span>\n<div style='marg...
  ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:9: unknown regexp option - h
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:9: syntax error, unexpected tINTEGER, expecting tSTRING_DEND
));}\n  </h2>\n  <p>#{
            ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:11: syntax error, unexpected '}', expecting tSTRING_DEND
));}</p>\n  <p>\n", 1, false);
    ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:17: unknown regexp option - p
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:17: syntax error, unexpected $undefined
_hamlout.push_text("  </p>\n</div>\n", -2, false);haml_t...
                           ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:23: unknown regexp option - p
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:23: syntax error, unexpected $undefined
));}\n</p>\n#{_hamlout.adjust_tabs(-1); 
           ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:25: syntax error, unexpected '}', expecting tSTRING_DEND
));}\n", 0, false);end
    ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:26: syntax error, unexpected $undefined, expecting tSTRING_DEND
...aml_temp);_hamlout.push_text("\n<div class='help'>\n  #{_ham...
...                               ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:26: syntax error, unexpected keyword_class, expecting keyword_do or '{' or '('
...hamlout.push_text("\n<div class='help'>\n  #{_hamlout.adjust...
...                               ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:26: syntax error, unexpected $undefined
...ush_text("\n<div class='help'>\n  #{_hamlout.adjust_tabs(1); 
...                               ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:28: syntax error, unexpected '}', expecting tSTRING_DEND
));}\n  keeps track of how long a...
    ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:28: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...s stayed out on loan for but it doesn't use due dates, fixed...
...                               ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:28: syntax error, unexpected tIDENTIFIER, expecting tSTRING_DEND
...oan periods or renewals. You're free to agree and renegotiat...
...                               ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:28: syntax error, unexpected $undefined
...rrower at any time. This keeps\n  #{
...                               ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:30: syntax error, unexpected '}', expecting tSTRING_DEND
));}\n  friendly and flexible.\n<...
    ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:30: syntax error, unexpected $undefined, expecting '('
...));}\n  friendly and flexible.\n</div>\n", -1, false);::Haml...
...                               ^
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:30: unterminated regexp meets end of file
/home/carlos/APP/LibreTeka-from-BookShare/app/views/loans/new.html.haml:30: syntax error, unexpected end-of-input, expecting tSTRING_DEND):
    1: %h1 Lend a Book
    2: 
    3: %span{:style => "float: left;"}
    4:   = link_to (image_tag(@loan.book.title.image_url, :height => 80), title_path(@loan.book.title))
    5: 
    6: %div{:style => "margin-left: 100px;"}
    7:   %h2
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.2ms)


Started GET "/" for 127.0.0.1 at 2016-03-03 22:56:32 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.5ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:56:32.419884', "perishable_token" = 'SshAZePhCMAHFpucnaH', "updated_at" = '2016-03-03 21:56:32.420308' WHERE "users"."id" = 1
  [1m[36mTitle Load (0.9ms)[0m  [1mSELECT "titles".* FROM "titles" WHERE "titles"."id" = 1 LIMIT 1[0m
  [1m[35mAuthor Load (0.2ms)[0m  SELECT * FROM "authors" INNER JOIN "authors_titles" ON "authors".id = "authors_titles".author_id WHERE ("authors_titles".title_id = 1 ) LIMIT 1
Rendered pages/home.html.haml within layouts/application (177.8ms)
Completed 500 Internal Server Error in 192ms

ActionView::Template::Error (undefined method `name' for nil:NilClass):
    24:       - title = book.title
    25:       - i += 1
    26:       %td
    27:         = link_to (image_tag title.image_url, :height => 80, :alt => title.title_and_author), title
    28:       - if i % 10 == 0
    29:         %tr
  app/models/title.rb:28:in `title_and_author'
  app/views/pages/home.html.haml:27:in `block in _app_views_pages_home_html_haml___3191374687342186904_70200677642640_2001129360924819627'
  app/views/pages/home.html.haml:23:in `each'
  app/views/pages/home.html.haml:23:in `_app_views_pages_home_html_haml___3191374687342186904_70200677642640_2001129360924819627'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.6ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.8ms)


Started GET "/" for 127.0.0.1 at 2016-03-03 22:58:09 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.6ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:58:09.608433', "perishable_token" = 'U3AeAcpN9xsJbv0hBraB', "updated_at" = '2016-03-03 21:58:09.608802' WHERE "users"."id" = 1
  [1m[36mTitle Load (0.1ms)[0m  [1mSELECT "titles".* FROM "titles" WHERE "titles"."id" = 1 LIMIT 1[0m
Rendered pages/home.html.haml within layouts/application (219.6ms)
Completed 500 Internal Server Error in 230ms

ActionView::Template::Error (undefined method `image_url' for nil:NilClass):
    24:       - title = book.title
    25:       - i += 1
    26:       %td
    27:         = link_to (image_tag title.image_url, :height => 80, :alt => title.title_and_author), title
    28:       - if i % 10 == 0
    29:         %tr
  app/views/pages/home.html.haml:27:in `block in _app_views_pages_home_html_haml___3191374687342186904_70200677478980_2001129360924819627'
  app/views/pages/home.html.haml:23:in `each'
  app/views/pages/home.html.haml:23:in `_app_views_pages_home_html_haml___3191374687342186904_70200677478980_2001129360924819627'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.8ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.4ms)


Started GET "/" for 127.0.0.1 at 2016-03-03 22:58:12 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.5ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-03-03 21:58:12.591245', "perishable_token" = 'ZhutF9u9RDllDqAujFp', "updated_at" = '2016-03-03 21:58:12.591665' WHERE "users"."id" = 1[0m
  [1m[35mTitle Load (0.1ms)[0m  SELECT "titles".* FROM "titles" WHERE "titles"."id" = 1 LIMIT 1
Rendered pages/home.html.haml within layouts/application (282.6ms)
Completed 500 Internal Server Error in 294ms

ActionView::Template::Error (undefined method `image_url' for nil:NilClass):
    24:       - title = book.title
    25:       - i += 1
    26:       %td
    27:         = link_to (image_tag title.image_url, :height => 80, :alt => title.title_and_author), title
    28:       - if i % 10 == 0
    29:         %tr
  app/views/pages/home.html.haml:27:in `block in _app_views_pages_home_html_haml___3191374687342186904_31583720_2001129360924819627'
  app/views/pages/home.html.haml:23:in `each'
  app/views/pages/home.html.haml:23:in `_app_views_pages_home_html_haml___3191374687342186904_31583720_2001129360924819627'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.8ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.4ms)


Started GET "/lent" for 127.0.0.1 at 2016-03-03 22:58:16 +0100
  Processing by UsersController#loans as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-03-03 21:58:16.961236', "perishable_token" = '4UGymIhobx9DQ2Fk2Fih', "updated_at" = '2016-03-03 21:58:16.961652' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__3667063255792385464_29874740_2001129360924819627 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))
Rendered users/loans.html.haml within layouts/application (42.6ms)
Completed 200 OK in 286ms (Views: 45.3ms | ActiveRecord: 1.9ms)


Started GET "/books" for 127.0.0.1 at 2016-03-03 22:58:18 +0100
  Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-03-03 21:58:18.516168', "perishable_token" = 'Iq29u8D00UlswyMuuGf', "updated_at" = '2016-03-03 21:58:18.516545' WHERE "users"."id" = 1[0m
  [1m[35mBook Load (0.3ms)[0m  SELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC
  [1m[36mTitle Load (0.1ms)[0m  [1mSELECT "titles".* FROM "titles" WHERE "titles"."id" = 1 LIMIT 1[0m
Rendered books/index.html.haml within layouts/application (25.3ms)
Completed 500 Internal Server Error in 284ms

ActionView::Template::Error (undefined method `title' for nil:NilClass):
    27:  
    28:         %td
    29:           %span.book_list_title
    30:             = link_to book.title.title, book.title
    31:           %br 
    32:           = book.title.subtitle
    33:           %br
  app/views/books/index.html.haml:30:in `block in _app_views_books_index_html_haml___238562528202688529_70200675996160_2001129360924819627'
  app/views/books/index.html.haml:25:in `each'
  app/views/books/index.html.haml:25:in `_app_views_books_index_html_haml___238562528202688529_70200675996160_2001129360924819627'
  app/controllers/books_controller.rb:9:in `index'

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.0ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.4ms)


Started GET "/books" for 127.0.0.1 at 2016-03-03 22:58:45 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-03 21:58:46.043149', "perishable_token" = 'hmrY3kD4in8ysF1hFcyM', "updated_at" = '2016-03-03 21:58:46.043515' WHERE "users"."id" = 1
  [1m[36mBook Load (0.2ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__3667063255792385464_70200679470620_2001129360924819627 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (35.5ms)
Completed 200 OK in 273ms (Views: 39.6ms | ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2016-03-03 22:58:48 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.5ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mUPDATE "users" SET "last_request_at" = '2016-03-03 21:58:48.593215', "perishable_token" = 'iBMRrWoT5qIHecBo9X', "updated_at" = '2016-03-03 21:58:48.593644' WHERE "users"."id" = 1[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__3667063255792385464_70200671873080_2001129360924819627 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered pages/home.html.haml within layouts/application (248.5ms)
Completed 200 OK in 261ms (Views: 250.5ms | ActiveRecord: 1.9ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /home/carlos/APP/LibreTeka-from-BookShare/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2016-03-19 18:34:15 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (2.5ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_29306640_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered pages/home.html.haml within layouts/application (176.1ms)
Completed 200 OK in 307ms (Views: 227.5ms | ActiveRecord: 2.5ms)


Started GET "/accessibility" for 127.0.0.1 at 2016-03-19 18:35:55 +0100
  Processing by PagesController#accessibility as HTML
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_12162680_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered pages/accessibility.html.haml within layouts/application (48.1ms)
Completed 200 OK in 62ms (Views: 61.2ms | ActiveRecord: 0.0ms)


Started GET "/contact" for 127.0.0.1 at 2016-03-19 18:36:05 +0100
  Processing by PagesController#contact as HTML
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321874865340_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered pages/contact.html.haml within layouts/application (43.6ms)
Completed 200 OK in 51ms (Views: 51.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2016-03-19 18:40:50 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.5ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321878572420_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:22)
Rendered pages/home.html.haml within layouts/application (45.2ms)
Completed 200 OK in 63ms (Views: 48.3ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2016-03-19 18:42:28 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.5ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321872202940_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:20)
Rendered pages/home.html.haml within layouts/application (119.7ms)
Completed 200 OK in 135ms (Views: 123.1ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2016-03-19 18:42:30 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.4ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321873107420_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:20)
Rendered pages/home.html.haml within layouts/application (46.1ms)
Completed 200 OK in 56ms (Views: 49.2ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2016-03-19 18:43:15 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.7ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321871647300_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:14)
Rendered pages/home.html.haml within layouts/application (44.9ms)
Completed 200 OK in 58ms (Views: 48.0ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2016-03-19 18:46:02 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.4ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321873189940_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:14)
Rendered pages/home.html.haml within layouts/application (45.7ms)
Completed 200 OK in 58ms (Views: 49.2ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2016-03-19 18:46:19 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.8ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321873817320_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:14)
Rendered pages/home.html.haml within layouts/application (47.4ms)
Completed 200 OK in 65ms (Views: 51.4ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2016-03-19 18:48:31 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.6ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321877379840_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:14)
Rendered pages/home.html.haml within layouts/application (52.1ms)
Completed 200 OK in 65ms (Views: 57.3ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2016-03-19 18:51:57 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.9ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_29451700_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:14)
Rendered pages/home.html.haml within layouts/application (50.7ms)
Completed 200 OK in 63ms (Views: 54.4ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2016-03-19 18:52:50 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.9ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321871029060_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:14)
Rendered pages/home.html.haml within layouts/application (44.9ms)
Completed 200 OK in 58ms (Views: 49.1ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2016-03-19 18:53:18 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.6ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Rendered pages/home.html.haml within layouts/application (1.4ms)
Completed 500 Internal Server Error in 12ms

ActionView::Template::Error (Illegal nesting: nesting within plain text is illegal.):
    10:     = CONFIG[:sitename] 
    11:     Ayudanos a completar la primera biblioteca libre.
    12: 
    13:       - unless current_user
    14:     %p{ :style => 'float: right' }
    15:       = link_to "Regístrate", :register, :class => "button"
    16:     
  app/views/pages/home.html.haml:13

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.9ms)


Started GET "/" for 127.0.0.1 at 2016-03-19 18:53:55 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.7ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_28384880_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:14)
Rendered pages/home.html.haml within layouts/application (56.3ms)
Completed 200 OK in 68ms (Views: 59.5ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2016-03-19 18:54:14 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.5ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321871608720_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:14)
Rendered pages/home.html.haml within layouts/application (43.2ms)
Completed 200 OK in 55ms (Views: 46.4ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2016-03-19 18:54:16 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.6ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321872841700_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:14)
Rendered pages/home.html.haml within layouts/application (43.6ms)
Completed 200 OK in 55ms (Views: 46.7ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2016-03-19 18:54:28 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.8ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321875097920_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:14)
Rendered pages/home.html.haml within layouts/application (46.4ms)
Completed 200 OK in 65ms (Views: 51.7ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2016-03-19 18:54:35 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.5ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321876193420_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:14)
Rendered pages/home.html.haml within layouts/application (41.3ms)
Completed 200 OK in 52ms (Views: 45.0ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2016-03-19 19:25:03 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.4ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_12308260_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered pages/home.html.haml within layouts/application (50.5ms)
Completed 200 OK in 64ms (Views: 53.6ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2016-03-19 19:25:23 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.8ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321877524880_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered pages/home.html.haml within layouts/application (45.1ms)
Completed 200 OK in 59ms (Views: 48.7ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2016-03-19 19:25:50 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.5ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_28478060_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered pages/home.html.haml within layouts/application (52.1ms)
Completed 200 OK in 64ms (Views: 55.7ms | ActiveRecord: 0.5ms)


Started GET "/login" for 127.0.0.1 at 2016-03-19 19:31:14 +0100
  Processing by UserSessionsController#new as HTML
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321876898180_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered user_sessions/new.html.haml within layouts/application (25.1ms)
Completed 200 OK in 132ms (Views: 97.5ms | ActiveRecord: 0.0ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-03-19 19:31:21 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"iHy4oGPIlXtmpCUc60dojnYi3pItRoEjU9I07U+wTrI=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_26991280_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered user_sessions/new.html.haml within layouts/application (22.2ms)
Completed 200 OK in 63ms (Views: 26.0ms | ActiveRecord: 0.3ms)


Started POST "/user_sessions" for 127.0.0.1 at 2016-03-19 19:31:30 +0100
  Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"iHy4oGPIlXtmpCUc60dojnYi3pItRoEjU9I07U+wTrI=", "user_session"=>{"login"=>"carlos@prueba.es", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log In"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users".login LIKE 'carlos@prueba.es') LIMIT 1[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321878146300_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered user_sessions/new.html.haml within layouts/application (15.8ms)
Completed 200 OK in 53ms (Views: 19.0ms | ActiveRecord: 0.3ms)


Started GET "/password_resets/new" for 127.0.0.1 at 2016-03-19 19:31:43 +0100
  Processing by PasswordResetsController#new as HTML
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_password_resets_new_html_haml__612161568755198509_70321874859940_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/password_resets/new.html.haml:3)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321874856800_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered password_resets/new.html.haml within layouts/application (57.2ms)
Completed 200 OK in 104ms (Views: 104.0ms | ActiveRecord: 0.0ms)


Started POST "/password_resets" for 127.0.0.1 at 2016-03-19 19:31:50 +0100
  Processing by PasswordResetsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"iHy4oGPIlXtmpCUc60dojnYi3pItRoEjU9I07U+wTrI=", "email"=>"carlos@prueba.es", "commit"=>"Reset my password"}
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."email" = 'carlos@prueba.es' LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "perishable_token" = 'vLPtTyEcMNS7oAPgQQw', "updated_at" = '2016-03-19 18:31:51.181682' WHERE "users"."id" = 1
Rendered member_message/password_reset_instructions.html.haml within layouts/member_message (4.5ms)
Rendered member_message/password_reset_instructions.text.haml (1.3ms)

Sent mail to carlos@prueba.es (79ms)
Date: Sat, 19 Mar 2016 19:31:51 +0100
From: noreply@sutton.gov.uk
To: carlos@prueba.es
Message-ID: <56ed9b17d817e_67633ff516555578133c@carlos-Inspiron-3521.mail>
Subject: password reset instructions
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_56ed9b17d30cc_67633ff5165555781032";
 charset=UTF-8
Content-Transfer-Encoding: 7bit



----==_mimepart_56ed9b17d30cc_67633ff5165555781032
Date: Sat, 19 Mar 2016 19:31:51 +0100
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit
Content-ID: <56ed9b17d6fc7_67633ff5165555781297@carlos-Inspiron-3521.mail>

<!DOCTYPE html>
<html>
  <head>
    <style>
      /*<![CDATA[*/
        body
        {
          font-family: Helvetica, Arial, sans-serif;
        }
        
        h1
        {  
          color: #d12349;
          font-size: 250%;
        }
        
        img
        {
          border: 0;
        }
      /*]]>*/
    </style>
  </head>
  <body>
    <h1>
      
    </h1>
    <h2>Resetting your password</h2>
    <p>To reset your password, please click this link:</p>
    <a href="http://0.0.0.0:3000/password_resets/vLPtTyEcMNS7oAPgQQw/edit">http://0.0.0.0:3000/password_resets/vLPtTyEcMNS7oAPgQQw/edit</a>
    <p>If you didn't ask us to reset your password just ignore this email.</p>
  </body>
</html>


----==_mimepart_56ed9b17d30cc_67633ff5165555781032
Date: Sat, 19 Mar 2016 19:31:51 +0100
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit
Content-ID: <56ed9b17d5af8_67633ff516555578112f@carlos-Inspiron-3521.mail>

Resetting your password
To reset your password, please click the link below or copy and paste it into your web browser:
http://0.0.0.0:3000/password_resets/vLPtTyEcMNS7oAPgQQw/edit
If you didn't ask us to reset your password just ignore this email.


----==_mimepart_56ed9b17d30cc_67633ff5165555781032--
Redirected to http://localhost:3000/
Completed 302 Found in 913ms


Started GET "/" for 127.0.0.1 at 2016-03-19 19:31:52 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.7ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_26580700_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered pages/home.html.haml within layouts/application (77.1ms)
Completed 200 OK in 91ms (Views: 80.9ms | ActiveRecord: 1.7ms)


Started GET "/password_resets/vLPtTyEcMNS7oAPgQQw/edit" for 127.0.0.1 at 2016-03-19 19:33:09 +0100
  Processing by PasswordResetsController#edit as HTML
  Parameters: {"id"=>"vLPtTyEcMNS7oAPgQQw"}
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE (perishable_token = 'vLPtTyEcMNS7oAPgQQw' and updated_at > '2016-03-19 18:23:09.741805') LIMIT 1
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_password_resets_edit_html_haml___933204711188995500_70321877858940_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/password_resets/edit.html.haml:3)
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321877856680_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered password_resets/edit.html.haml within layouts/application (47.2ms)
Completed 200 OK in 105ms (Views: 52.7ms | ActiveRecord: 0.5ms)


Started POST "/password_resets/vLPtTyEcMNS7oAPgQQw" for 127.0.0.1 at 2016-03-19 19:33:17 +0100
  Processing by PasswordResetsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"okHv9WenMaekdaR5m4HzrX60mSJMb9TLVInJzrSXV68=", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Change my password and login", "id"=>"vLPtTyEcMNS7oAPgQQw"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE (perishable_token = 'vLPtTyEcMNS7oAPgQQw' and updated_at > '2016-03-19 18:23:17.308270') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  SELECT 1 FROM "users" WHERE ("users"."persistence_token" = '9121dffcc23f5a156a9ccbeec6ecf1d4e44732d8cf4071957362bfc9f85ce6f521eac515bcc2be66286c7e6acfbf747128d644a0a2d012ef4aa3ec0bd9187e15') AND ("users".id <> 1) LIMIT 1
  [1m[36mAREL (0.6ms)[0m  [1mUPDATE "users" SET "password_salt" = 'KXHwED7y0zE1NCHzEHK', "crypted_password" = '3014c12885fe424e50be61983d696851047f92a5e8776c858702e77799988b8b47d34a1dd7546444f3d70a322ce32d6c884516d363bff13e8c5f478b8b7016d6', "persistence_token" = '9121dffcc23f5a156a9ccbeec6ecf1d4e44732d8cf4071957362bfc9f85ce6f521eac515bcc2be66286c7e6acfbf747128d644a0a2d012ef4aa3ec0bd9187e15', "perishable_token" = 'NpKYYN837vPp7jNfK0DR', "login_count" = 5, "last_login_at" = '2016-03-03 21:23:33.950972', "current_login_at" = '2016-03-19 18:33:17.452592', "last_request_at" = '2016-03-19 18:33:17.453607', "updated_at" = '2016-03-19 18:33:17.454178' WHERE "users"."id" = 1[0m
Redirected to http://0.0.0.0:3000/books
Completed 302 Found in 340ms


Started GET "/books" for 127.0.0.1 at 2016-03-19 19:33:17 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-19 18:33:17.721986', "perishable_token" = 'dwKYwXFPWPvYrqKHmIt', "updated_at" = '2016-03-19 18:33:17.722410' WHERE "users"."id" = 1
  [1m[36mBook Load (0.2ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321801589040_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (33.4ms)
Completed 200 OK in 220ms (Views: 50.2ms | ActiveRecord: 3.0ms)


Started GET "/books" for 127.0.0.1 at 2016-03-19 19:33:45 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-19 18:33:45.652654', "perishable_token" = '5789A8qyU2Bs9HELv7Ri', "updated_at" = '2016-03-19 18:33:45.653055' WHERE "users"."id" = 1
  [1m[36mBook Load (0.2ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_8281940_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (46.5ms)
Completed 200 OK in 370ms (Views: 52.6ms | ActiveRecord: 1.5ms)


Started GET "/books" for 127.0.0.1 at 2016-03-20 08:29:58 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (19.5ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-20 07:29:58.746789', "perishable_token" = 'WtOjLg90t0if0RFIpJpW', "updated_at" = '2016-03-20 07:29:58.747116' WHERE "users"."id" = 1
  [1m[36mBook Load (0.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_26872440_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (29.0ms)
Completed 200 OK in 693ms (Views: 31.7ms | ActiveRecord: 20.4ms)


Started GET "/books" for 127.0.0.1 at 2016-03-20 08:30:43 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.5ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-20 07:30:43.925020', "perishable_token" = '6KY65Kd0EDz8A5pKH0uZ', "updated_at" = '2016-03-20 07:30:43.925548' WHERE "users"."id" = 1
  [1m[36mBook Load (0.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321877545940_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (30.5ms)
Completed 200 OK in 182ms (Views: 33.2ms | ActiveRecord: 1.5ms)


Started GET "/books" for 127.0.0.1 at 2016-03-20 08:30:54 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.5ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-20 07:30:54.353755', "perishable_token" = '6nvcE8Qff5XgoapvDh', "updated_at" = '2016-03-20 07:30:54.354287' WHERE "users"."id" = 1
  [1m[36mBook Load (0.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321875586560_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (29.4ms)
Completed 200 OK in 238ms (Views: 32.2ms | ActiveRecord: 1.6ms)


Started GET "/books" for 127.0.0.1 at 2016-03-20 08:33:36 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-20 07:33:36.964587', "perishable_token" = 'KS8tpShIKXgaL8YtAgxi', "updated_at" = '2016-03-20 07:33:36.964973' WHERE "users"."id" = 1
  [1m[36mBook Load (0.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321871207800_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (27.9ms)
Completed 200 OK in 232ms (Views: 30.4ms | ActiveRecord: 1.3ms)


Started GET "/books" for 127.0.0.1 at 2016-03-20 08:34:25 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-20 07:34:25.722881', "perishable_token" = '2g5A7hYYvIFmtN2Pi', "updated_at" = '2016-03-20 07:34:25.723314' WHERE "users"."id" = 1
  [1m[36mBook Load (0.2ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321877597180_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (26.4ms)
Completed 200 OK in 233ms (Views: 29.8ms | ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:35:34 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.5ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_29438100_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered pages/home.html.haml within layouts/application (52.6ms)
Completed 200 OK in 63ms (Views: 56.3ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:36:13 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (1.0ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321871648660_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered pages/home.html.haml within layouts/application (56.5ms)
Completed 200 OK in 70ms (Views: 60.5ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:37:24 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.6ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
Rendered pages/home.html.haml within layouts/application (0.9ms)
Completed 500 Internal Server Error in 15ms

ActionView::Template::Error (Illegal nesting: nesting within plain text is illegal.):
    10:   %p
    11:     = CONFIG[:sitename] 
    12:     Ayudanos a completar la primera biblioteca entre iguales.
    13:         = link_to_unless_current "Regístrate", :register
    14: 
    15: 
    16: 
  app/views/pages/home.html.haml:13

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.4ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:37:34 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.6ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321874675400_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered pages/home.html.haml within layouts/application (43.5ms)
Completed 200 OK in 65ms (Views: 55.8ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:39:34 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.7ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
ERROR: compiling _app_views_pages_home_html_haml___601599840534105467_70321876561680_3300426393656130641 RAISED /home/carlos/APP/LibreTeka-from-BookShare/app/views/pages/home.html.haml:35: syntax error, unexpected keyword_ensure, expecting end-of-input
Function body:           def _app_views_pages_home_html_haml___601599840534105467_70321876561680_3300426393656130641(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/home";_old_output_buffer = @output_buffer;;begin;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre", "code"], :attr_wrapper=>"'", :ugly=>false, :format=>:html5, :encoding=>"UTF-8", :escape_html=>true, :escape_attrs=>true});_erbout = _hamlout.buffer;__in_erb_template = true;;_hamlout.append_if_string=  content_for :head do
_hamlout.push_text("#{_hamlout.format_script_false_false_false_true_false_true_false(( auto_discovery_link_tag :atom, titles_path(:format => :atom), { :title => "#{CONFIG[:sitename]}: New books" }
));}\n", 0, false);end
_hamlout.push_text("<div id='puffbox'>\n  <p style='font-size: 200%'>\n    Presta y toma prestados libros en tu vecindario o en cualquier ciudad.\n  </p>\n  <p>\n    #{_hamlout.adjust_tabs(2); 






_hamlout.format_script_false_false_false_true_false_true_false(( CONFIG[:sitename]
));}\n    Ayudanos a completar la primera biblioteca entre iguales.\n    ", 0, false);
haml_temp =  link_to_unless_current "Inicio", :root, :accesskey => '1'
_hamlout.push_text("    &nbsp;&nbsp;\n", 0, false);end
_hamlout.buffer << _hamlout.format_script_false_false_false_true_false_false_false(haml_temp);_hamlout.push_text("\n  </p>\n</div>\n<div class='clear'></div>\n", -2, false);




 if @books.count > 0
_hamlout.push_text("<table class='book_grid'>\n  <tr></tr>\n", 1, false);


 i = 0
 for book in @books
 title = book.title
 i += 1
_hamlout.push_text("  <td>\n    #{_hamlout.adjust_tabs(1); 
_hamlout.format_script_false_false_false_true_false_true_false(( link_to (image_tag title.image_url, :height => 80, :alt => title.title_and_author), title
));}\n  </td>\n", -1, false); if i % 10 == 0
_hamlout.push_text("  <tr></tr>\n", 0, false);end
end
_hamlout.push_text("</table>\n", -1, false);end
::Haml::Util.html_safe(_erbout);ensure;@haml_buffer = @haml_buffer.upper;end;
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `module_eval'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `compile'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `block in render'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render'
/var/lib/gems/2.1.0/gems/haml-3.1.2/lib/haml/helpers/action_view_mods.rb:13:in `render_with_haml'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/usr/lib/ruby/2.1.0/benchmark.rb:294:in `realtime'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:441:in `_run__361796227041057981__process_action__1148482077706998643__callbacks'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `block in action'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/var/lib/gems/2.1.0/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `block in call'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/var/lib/gems/2.1.0/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/var/lib/gems/2.1.0/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/var/lib/gems/2.1.0/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `block in call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/var/lib/gems/2.1.0/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/var/lib/gems/2.1.0/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/var/lib/gems/2.1.0/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/var/lib/gems/2.1.0/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/usr/lib/ruby/2.1.0/webrick/httpserver.rb:138:in `service'
/usr/lib/ruby/2.1.0/webrick/httpserver.rb:94:in `run'
/usr/lib/ruby/2.1.0/webrick/server.rb:295:in `block in start_thread'
Rendered pages/home.html.haml within layouts/application (70.9ms)
Completed 500 Internal Server Error in 85ms

ActionView::Template::Error (/home/carlos/APP/LibreTeka-from-BookShare/app/views/pages/home.html.haml:35: syntax error, unexpected keyword_ensure, expecting end-of-input):
0  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.6ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:39:46 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.5ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Rendered pages/home.html.haml within layouts/application (1.0ms)
Completed 500 Internal Server Error in 12ms

ActionView::Template::Error (The line was indented 2 levels deeper than the previous line.):
    11:     = CONFIG[:sitename] 
    12:     Ayudanos a completar la primera biblioteca entre iguales.
    13:   = link_to_unless_current "Inicio", :root, :accesskey => '1'
    14:       &nbsp;&nbsp;
    15: 
    16: 
    17: 
  app/views/pages/home.html.haml:14

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.5ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.2ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:39:58 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.5ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
Rendered pages/home.html.haml within layouts/application (1.5ms)
Completed 500 Internal Server Error in 23ms

ActionView::Template::Error (The line was indented 2 levels deeper than the previous line.):
    13: 
    14: 
    15:   = link_to_unless_current "Inicio", :root, :accesskey => '1'
    16:       &nbsp;&nbsp;
    17: 
    18: 
    19: 
  app/views/pages/home.html.haml:16

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.7ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.6ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:40:20 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.8ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321872156260_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered pages/home.html.haml within layouts/application (49.9ms)
Completed 200 OK in 63ms (Views: 53.6ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:40:41 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.6ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
Rendered pages/home.html.haml within layouts/application (1.4ms)
Completed 500 Internal Server Error in 14ms

ActionView::Template::Error (Illegal nesting: nesting within plain text is illegal.):
    12:     Ayudanos a completar la primera biblioteca entre iguales.
    13: 
    14:   &nbsp;&nbsp;
    15:         = link_to_unless_current "Regístrate", :register
    16:   &nbsp;&nbsp;
    17: 
    18: 
  app/views/pages/home.html.haml:15

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.1ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:40:50 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.4ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321875521560_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered pages/home.html.haml within layouts/application (46.0ms)
Completed 200 OK in 57ms (Views: 49.2ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:41:12 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.6ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321875382740_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered pages/home.html.haml within layouts/application (45.0ms)
Completed 200 OK in 57ms (Views: 48.6ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:41:24 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.7ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321875257240_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered pages/home.html.haml within layouts/application (61.6ms)
Completed 200 OK in 77ms (Views: 66.3ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:41:41 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.5ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321876570040_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered pages/home.html.haml within layouts/application (49.9ms)
Completed 200 OK in 62ms (Views: 53.2ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:41:52 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.7ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Rendered pages/home.html.haml within layouts/application (1.6ms)
Completed 500 Internal Server Error in 15ms

ActionView::Template::Error (Illegal nesting: nesting within plain text is illegal.):
    14:   &nbsp;&nbsp;
    15:   = link_to_unless_current "Regístrate", :register
    16:   &nbsp;&nbsp;
    17:     &nbsp;&nbsp;
    18: 
    19:   &nbsp;&nbsp;
    20: 
  app/views/pages/home.html.haml:17

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.9ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.4ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:43:59 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.6ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321875278000_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered pages/home.html.haml within layouts/application (44.8ms)
Completed 200 OK in 58ms (Views: 50.2ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:44:13 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.7ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321876565680_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered pages/home.html.haml within layouts/application (63.9ms)
Completed 200 OK in 81ms (Views: 68.5ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:44:16 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.7ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_27583520_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered pages/home.html.haml within layouts/application (48.2ms)
Completed 200 OK in 62ms (Views: 52.6ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:44:31 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.8ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321878768460_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered pages/home.html.haml within layouts/application (47.5ms)
Completed 200 OK in 61ms (Views: 51.7ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:44:44 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.7ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321872243780_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered pages/home.html.haml within layouts/application (65.6ms)
Completed 200 OK in 81ms (Views: 69.5ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:44:51 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.4ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Rendered pages/home.html.haml within layouts/application (1.7ms)
Completed 500 Internal Server Error in 13ms

ActionView::Template::Error (Inconsistent indentation: 3 spaces were used for indentation, but the rest of the document was indented using 2 spaces.):
    12:     &nbsp;&nbsp;
    13:     = link_to_unless_current "Regístrate", :register
    14:     &nbsp;&nbsp;
    15:    hijoputa
    16: 
    17: 
    18: 
  app/views/pages/home.html.haml:15

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.1ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.7ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:45:00 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.5ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321878277480_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered pages/home.html.haml within layouts/application (42.8ms)
Completed 200 OK in 53ms (Views: 45.9ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:45:10 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.5ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
Rendered pages/home.html.haml within layouts/application (0.9ms)
Completed 500 Internal Server Error in 14ms

ActionView::Template::Error (Inconsistent indentation: 3 spaces were used for indentation, but the rest of the document was indented using 2 spaces.):
    12:     &nbsp;&nbsp;
    13:     = link_to_unless_current "Regístrate", :register
    14:     &nbsp;&nbsp;
    15:    hijoputa
    16: 
    17: 
    18: 
  app/views/pages/home.html.haml:15

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.2ms)
Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (7.1ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:45:31 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.8ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_13309840_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered pages/home.html.haml within layouts/application (52.9ms)
Completed 200 OK in 67ms (Views: 57.1ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:45:41 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.6ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321876686540_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered pages/home.html.haml within layouts/application (58.3ms)
Completed 200 OK in 73ms (Views: 63.0ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:52:27 +0100
  Processing by PagesController#home as HTML
  [1m[35mBook Load (0.5ms)[0m  SELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_28822060_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered pages/home.html.haml within layouts/application (57.7ms)
Completed 200 OK in 71ms (Views: 60.8ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2016-03-20 08:52:29 +0100
  Processing by PagesController#home as HTML
  [1m[36mBook Load (0.8ms)[0m  [1mSELECT "books".* FROM "books" ORDER BY RANDOM() LIMIT 30[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321870872000_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
Rendered pages/home.html.haml within layouts/application (59.9ms)
Completed 200 OK in 76ms (Views: 65.5ms | ActiveRecord: 0.8ms)


Started GET "/books" for 127.0.0.1 at 2016-03-20 08:52:35 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-20 07:52:35.855879', "perishable_token" = 'TadF8H4PmXo80zEohwum', "updated_at" = '2016-03-20 07:52:35.856276' WHERE "users"."id" = 1
  [1m[36mBook Load (0.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321801554100_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (28.3ms)
Completed 200 OK in 265ms (Views: 30.8ms | ActiveRecord: 1.3ms)


Started GET "/books" for 127.0.0.1 at 2016-03-20 08:53:54 +0100
  Processing by BooksController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "last_request_at" = '2016-03-20 07:53:54.217161', "perishable_token" = 'jrQV6Ib197UphGO1fPn8', "updated_at" = '2016-03-20 07:53:54.217487' WHERE "users"."id" = 1
  [1m[36mBook Load (0.1ms)[0m  [1mSELECT "books".* FROM "books" WHERE "books"."user_id" = 1 ORDER BY updated_at DESC[0m
DEPRECATION WARNING: - style block helpers are deprecated. Please use =. (called from _app_views_layouts_application_html_haml__1763763527184540363_70321872593320_3300426393656130641 at /home/carlos/APP/LibreTeka-from-BookShare/app/views/layouts/application.html.haml:15)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "books" WHERE ("books".user_id = 1)
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "loans" WHERE ("loans".lender_id = 1 AND ("loans"."returned" IS NULL))[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "loans" WHERE ("loans".borrower_id = 1 AND ("loans"."returned" IS NULL))
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "books" INNER JOIN "watchings" ON "books".id = "watchings".book_id WHERE (("watchings".user_id = 1))[0m
Rendered books/index.html.haml within layouts/application (25.6ms)
Completed 200 OK in 257ms (Views: 28.3ms | ActiveRecord: 1.5ms)


Started GET "/booksfdgdfg" for 127.0.0.1 at 2016-03-20 08:55:36 +0100

ActionController::RoutingError (No route matches "/booksfdgdfg"):
  

Rendered /var/lib/gems/2.1.0/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.0ms)
